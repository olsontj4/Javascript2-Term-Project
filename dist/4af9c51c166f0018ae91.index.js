(()=>{"use strict";var t,e={886:(t,e,n)=>{function i(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){l=!0,s=t},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw s}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i.key),"symbol"===r(o)?o:String(o)),i)}var o}n(138);var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.uiCanvas=document.querySelector("canvas"),this.context=this.uiCanvas.getContext("2d"),this.marker=document.getElementById("marker"),this.mapImg=document.getElementById("mapImg"),this.uiSubmit=document.getElementById("formSubmit"),this.uiNext=document.getElementById("next"),this.uiReset=document.getElementById("reset"),this.uiSelect=document.querySelectorAll("select"),this.uiSpinner=document.getElementById("loading"),this.uiDescriptionBox=document.getElementById("descriptionBox"),this.uiSubmitMessage=document.getElementById("submitMessage"),this.url="https://api.genshin.dev",this.urlExtension="",this.holdData=null,this.holdDataBranch=null,this.holdJSON=null,this.nextIndex=0,this.getCoords=this.getCoords.bind(this),this.getCoords(),this.getDatabase=this.getDatabase.bind(this),this.getDatabase(0,""),document.getElementById("loadingMap").hidden=!0,this.uiCanvas.hidden=!1,this.drawCanvas(this.mapImg,4524,914),this.uiNext.disabled=!0,this.uiSubmit.hidden=!1,this.uiNext.hidden=!1,this.uiReset.hidden=!1,this.addEventHandlers()}var e,n;return e=t,(n=[{key:"addEventHandlers",value:function(){this.formSubmit=this.formSubmit.bind(this),this.findNext=this.findNext.bind(this),this.resetForm=this.resetForm.bind(this),this.uiSubmit.onclick=this.formSubmit,this.uiNext.onclick=this.findNext,this.uiReset.onclick=this.resetForm}},{key:"getDatabase",value:function(t,e){var n=this;if(this.uiSubmitMessage.innerHTML="&#8203",this.uiSpinner.classList.remove("d-none"),null!=this.holdData)if(null!=this.holdData[e]){if(this.holdDataBranch=this.holdData[e],"object"!=r(this.holdData[e])&&void 0!==this.holdData[e]){if(this.loadItemDescription(this.holdData[e]),document.getElementById("dropdownMenus").childElementCount>2*t)for(var i=document.getElementById("dropdownMenus").childElementCount-2*t;i>0;i--)document.getElementById("dropdownMenus").lastChild.remove()}else null!=this.uiSelect[t-2]&&(this.uiSelect[t-2].disabled=!0),this.uiNext.disabled=!0,this.loadUiInputs(t,this.holdData[e]);this.uiSpinner.classList.add("d-none")}else if(null!=this.holdDataBranch[e])"object"!=r(this.holdData[e])&&void 0!==this.holdData[e]?this.loadItemDescription(this.holdData[e]):"object"!=r(this.holdDataBranch[e])&&void 0!==this.holdDataBranch[e]?this.loadItemDescription(this.holdDataBranch[e]):(null!=this.uiSelect[t-2]&&(this.uiSelect[t-2].disabled=!0,this.holdData=this.holdDataBranch,this.holdDataBranch=this.holdDataBranch[e]),this.uiNext.disabled=!0,this.loadUiInputs(t,this.holdDataBranch)),this.uiSpinner.classList.add("d-none");else{if(""!=e){if((this.urlExtension.match(/\/[^ \/]+/g)||[]).length>=t)for(var o=(this.urlExtension.match(/\/[^ \/]+/g)||[]).length;o>t-1;o--){var s=this.urlExtension;s=s.replace(this.urlExtension.match(/\/[^ \/]+/g)[o-1].toString(),""),this.urlExtension=s}this.urlExtension+="/".concat(e)}null!=this.uiSelect[t-2]&&(this.uiSelect[t-2].disabled=!0),console.log("".concat(this.url).concat(this.urlExtension)),fetch("".concat(this.url).concat(this.urlExtension)).then((function(t){return t.json()})).then((function(e){null!=e.description?n.loadItemDescription(e.description):(n.holdData=e,n.holdDataBranch=e,n.uiNext.disabled=!0,n.loadUiInputs(t,e)),n.uiSpinner.classList.add("d-none")})).catch((function(t){return alert(t)}))}else{if(""!=e){if((this.urlExtension.match(/\/[^ \/]+/g)||[]).length>=t)for(var a=(this.urlExtension.match(/\/[^ \/]+/g)||[]).length;a>t-1;a--){var l=this.urlExtension;l=l.replace(this.urlExtension.match(/\/[^ \/]+/g)[a-1].toString(),""),this.urlExtension=l}this.urlExtension+="/".concat(e)}null!=this.uiSelect[t-2]&&(this.uiSelect[t-2].disabled=!0),console.log("".concat(this.url).concat(this.urlExtension)),fetch("".concat(this.url).concat(this.urlExtension)).then((function(t){return t.json()})).then((function(e){null!=e.description?n.loadItemDescription(e.description):(n.holdData=e,n.holdDataBranch=e,n.uiNext.disabled=!0,n.loadUiInputs(t,e)),n.uiSpinner.classList.add("d-none")})).catch((function(t){return alert(t)}))}}},{key:"getCoords",value:function(){var t=this;fetch("./assets/data/mapCoords.json").then((function(t){return t.json()})).then((function(e){t.holdJSON=e})).catch((function(t){return alert(t)}))}},{key:"getImage",value:function(t){document.getElementById("preview").src=t}},{key:"loadItemDescription",value:function(t){null!=this.uiDescriptionBox.firstElementChild&&this.uiDescriptionBox.firstElementChild.remove();var e=document.createElement("p");e.id="description",e.innerHTML=t,this.uiDescriptionBox.appendChild(e)}},{key:"loadUiInputs",value:function(t,e){var n=this;null!=this.uiDescriptionBox.firstElementChild&&this.uiDescriptionBox.firstElementChild.remove();var o=t;if(document.getElementById("dropdownMenus").childElementCount>2*o)for(var r=document.getElementById("dropdownMenus").childElementCount-2*o;r>0;r--)document.getElementById("dropdownMenus").lastChild.remove();var s=document.createElement("select");s.id="input".concat(o),s.classList.add("form-select"),document.querySelector("#dropdownMenus").appendChild(s),document.querySelector("#dropdownMenus").appendChild(document.createElement("br"));var a=document.createElement("option");if(a.disabled=!0,a.hidden=!0,a.selected=!0,a.innerHTML="Select one...",document.getElementById("input".concat(o)).appendChild(a),0==o){var l,h=i(e.types);try{for(h.s();!(l=h.n()).done;){var d=l.value,u=document.createElement("option");u.value=d,u.innerHTML=d,document.getElementById("input".concat(o)).appendChild(u),document.getElementById("input".concat(o)).onchange=function(){n.getDatabase(o+1,document.getElementById("input".concat(o)).value)}}}catch(t){h.e(t)}finally{h.f()}}else if(1==o){var c,m=i(e);try{for(m.s();!(c=m.n()).done;){var f=c.value,p=document.createElement("option");p.value=f,p.innerHTML=f,document.getElementById("input".concat(o)).appendChild(p),document.getElementById("input".concat(o)).onchange=function(){n.getDatabase(o+1,document.getElementById("input".concat(o)).value)}}}catch(t){m.e(t)}finally{m.f()}}else for(var v in e){var y=document.createElement("option");y.value=v,y.innerHTML=v,document.getElementById("input".concat(o)).appendChild(y),document.getElementById("input".concat(o)).onchange=function(){n.getDatabase(o+1,document.getElementById("input".concat(o)).value)}}this.uiSelect=document.querySelectorAll("select")}},{key:"formSubmit",value:function(t){t.preventDefault(),this.nextIndex=0;var e=document.getElementById("input0");if(0==e.selectedIndex)this.uiSubmitMessage.innerHTML="No item selected.";else if(["characters","elements","enemies"].includes(e.value)){var n="".concat(e.value," are not items, and do not have a location on this map.");this.uiSubmitMessage.innerHTML=n}else{var i=this.searchCoords(0);null==i?(this.uiSubmitMessage.innerHTML="Not found.",this.drawCanvas(this.mapImg,4524,914)):(this.drawCanvas(this.mapImg,i[0],i[1]),null==i[2]&&this.drawMarker(),this.uiSubmitMessage.innerHTML="&#8203",this.uiNext.disabled=!1)}}},{key:"findNext",value:function(t){t.preventDefault(),this.nextIndex++;var e=this.searchCoords(this.nextIndex);null==e?(this.uiSubmitMessage.innerHTML="Not found.",this.uiNext.disabled=!0):(this.drawCanvas(this.mapImg,e[0],e[1]),null==e[2]&&this.drawMarker())}},{key:"searchCoords",value:function(t){if(t>0){var e=[];if(null!=this.holdDataBranch.source)for(var n in this.holdJSON)this.holdDataBranch.source!=n&&this.holdDataBranch.source!=this.holdJSON[n].name||e.push(this.holdJSON[n].coords);else if(null!=this.holdDataBranch.sources)for(var o in this.holdJSON)this.holdDataBranch.sources[t]!=o&&this.holdDataBranch.sources[t]!=this.holdJSON[o].name||e.push(this.holdJSON[o].coords);else if(null!=this.holdData.source)for(var r in this.holdJSON)this.holdData.source!=r&&this.holdData.source!=this.holdJSON[r].name||e.push(this.holdJSON[r].coords);else if(null!=this.holdData.sources)for(var s in this.holdJSON)this.holdData.sources[t]!=s&&this.holdData.sources[t]!=this.holdJSON[s].name||e.push(this.holdJSON[s].coords);else for(var a=1;2*a<document.getElementById("dropdownMenus").childElementCount;a++)for(var l in this.holdJSON)if(document.getElementById("input".concat(a)).value==l)e.push(this.holdJSON[l].coords);else for(var h in this.holdJSON[l]){var d,u=i(this.holdJSON[l][h]);try{for(u.s();!(d=u.n()).done;){var c=d.value;document.getElementById("input".concat(a)).value==c&&e.push(this.holdJSON[l].coords)}}catch(t){u.e(t)}finally{u.f()}}return e[t]}if(null!=this.holdDataBranch.source){for(var m in this.holdJSON)if(this.holdDataBranch.source==m||this.holdDataBranch.source==this.holdJSON[m].name)return this.holdJSON[m].coords}else if(null!=this.holdDataBranch.sources){for(var f in this.holdJSON)if(this.holdDataBranch.sources[0]==f||this.holdDataBranch.sources[0]==this.holdJSON[f].name)return this.holdJSON[f].coords}else if(null!=this.holdData.source){for(var p in this.holdJSON)if(this.holdData.source==p||this.holdData.source==this.holdJSON[p].name)return this.holdJSON[p].coords}else if(null!=this.holdData.sources){for(var v in this.holdJSON)if(this.holdData.sources[0]==v||this.holdData.sources[0]==this.holdJSON[v].name)return this.holdJSON[v].coords}else for(var y=1;2*y<document.getElementById("dropdownMenus").childElementCount;y++)for(var g in this.holdJSON){if(document.getElementById("input".concat(y)).value==g)return this.holdJSON[g].coords;for(var S in this.holdJSON[g]){var b,E=i(this.holdJSON[g][S]);try{for(E.s();!(b=E.n()).done;){var D=b.value;if(document.getElementById("input".concat(y)).value==D)return this.holdJSON[g].coords}}catch(t){E.e(t)}finally{E.f()}}}return null}},{key:"drawCanvas",value:function(t,e,n){this.context.drawImage(t,250-e,250-n)}},{key:"drawMarker",value:function(){this.context.drawImage(this.marker,225,150)}},{key:"resetForm",value:function(t){t.preventDefault(),document.querySelector("#dropdownMenus").innerHTML="",this.urlExtension="",this.nextIndex=0,this.uiNext.disabled=!0,this.getDatabase(0,""),this.drawCanvas(this.mapImg,4524,914)}}])&&s(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();window.onload=function(){new a}}},n={};function i(t){var o=n[t];if(void 0!==o)return o.exports;var r=n[t]={exports:{}};return e[t](r,r.exports,i),r.exports}i.m=e,t=[],i.O=(e,n,o,r)=>{if(!n){var s=1/0;for(d=0;d<t.length;d++){for(var[n,o,r]=t[d],a=!0,l=0;l<n.length;l++)(!1&r||s>=r)&&Object.keys(i.O).every((t=>i.O[t](n[l])))?n.splice(l--,1):(a=!1,r<s&&(s=r));if(a){t.splice(d--,1);var h=o();void 0!==h&&(e=h)}}return e}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[n,o,r]},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={826:0};i.O.j=e=>0===t[e];var e=(e,n)=>{var o,r,[s,a,l]=n,h=0;if(s.some((e=>0!==t[e]))){for(o in a)i.o(a,o)&&(i.m[o]=a[o]);if(l)var d=l(i)}for(e&&e(n);h<s.length;h++)r=s[h],i.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return i.O(d)},n=self.webpackChunkitem_finder=self.webpackChunkitem_finder||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var o=i.O(void 0,[994],(()=>i(886)));o=i.O(o)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bEMsQ0FFQSxJQURHcUMsR0FBNEJBLEVBQTJCakcsR0FDckRoQixFQUFJcUYsRUFBU2hGLE9BQVFMLElBQ3pCK0csRUFBVTFCLEVBQVNyRixHQUNoQjRFLEVBQW9CdUIsRUFBRVcsRUFBaUJDLElBQVlELEVBQWdCQyxJQUNyRUQsRUFBZ0JDLEdBQVMsS0FFMUJELEVBQWdCQyxHQUFXLEVBRTVCLE9BQU9uQyxFQUFvQk8sRUFBRUMsRUFBTyxFQUdqQ2lDLEVBQXFCQyxLQUE4Qix3QkFBSUEsS0FBOEIseUJBQUssR0FDOUZELEVBQW1CRSxRQUFRUCxFQUFxQnRJLEtBQUssS0FBTSxJQUMzRDJJLEVBQW1CdkQsS0FBT2tELEVBQXFCdEksS0FBSyxLQUFNMkksRUFBbUJ2RCxLQUFLcEYsS0FBSzJJLEcsS0M3Q3ZGLElBQUlHLEVBQXNCNUMsRUFBb0JPLE9BQUV2RixFQUFXLENBQUMsTUFBTSxJQUFPZ0YsRUFBb0IsT0FDN0Y0QyxFQUFzQjVDLEVBQW9CTyxFQUFFcUMsRSIsInNvdXJjZXMiOlsid2VicGFjazovL2l0ZW0tZmluZGVyL3dlYnBhY2svcnVudGltZS9jaHVuayBsb2FkZWQiLCJ3ZWJwYWNrOi8vaXRlbS1maW5kZXIvLi9zcmMvanMvc2NyaXB0LmpzIiwid2VicGFjazovL2l0ZW0tZmluZGVyL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2l0ZW0tZmluZGVyL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9pdGVtLWZpbmRlci93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2l0ZW0tZmluZGVyL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vaXRlbS1maW5kZXIvd2VicGFjay9ydW50aW1lL2pzb25wIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vaXRlbS1maW5kZXIvd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBkZWZlcnJlZCA9IFtdO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5PID0gKHJlc3VsdCwgY2h1bmtJZHMsIGZuLCBwcmlvcml0eSkgPT4ge1xuXHRpZihjaHVua0lkcykge1xuXHRcdHByaW9yaXR5ID0gcHJpb3JpdHkgfHwgMDtcblx0XHRmb3IodmFyIGkgPSBkZWZlcnJlZC5sZW5ndGg7IGkgPiAwICYmIGRlZmVycmVkW2kgLSAxXVsyXSA+IHByaW9yaXR5OyBpLS0pIGRlZmVycmVkW2ldID0gZGVmZXJyZWRbaSAtIDFdO1xuXHRcdGRlZmVycmVkW2ldID0gW2NodW5rSWRzLCBmbiwgcHJpb3JpdHldO1xuXHRcdHJldHVybjtcblx0fVxuXHR2YXIgbm90RnVsZmlsbGVkID0gSW5maW5pdHk7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgZGVmZXJyZWQubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgW2NodW5rSWRzLCBmbiwgcHJpb3JpdHldID0gZGVmZXJyZWRbaV07XG5cdFx0dmFyIGZ1bGZpbGxlZCA9IHRydWU7XG5cdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBjaHVua0lkcy5sZW5ndGg7IGorKykge1xuXHRcdFx0aWYgKChwcmlvcml0eSAmIDEgPT09IDAgfHwgbm90RnVsZmlsbGVkID49IHByaW9yaXR5KSAmJiBPYmplY3Qua2V5cyhfX3dlYnBhY2tfcmVxdWlyZV9fLk8pLmV2ZXJ5KChrZXkpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fLk9ba2V5XShjaHVua0lkc1tqXSkpKSkge1xuXHRcdFx0XHRjaHVua0lkcy5zcGxpY2Uoai0tLCAxKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZ1bGZpbGxlZCA9IGZhbHNlO1xuXHRcdFx0XHRpZihwcmlvcml0eSA8IG5vdEZ1bGZpbGxlZCkgbm90RnVsZmlsbGVkID0gcHJpb3JpdHk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmKGZ1bGZpbGxlZCkge1xuXHRcdFx0ZGVmZXJyZWQuc3BsaWNlKGktLSwgMSlcblx0XHRcdHZhciByID0gZm4oKTtcblx0XHRcdGlmIChyICE9PSB1bmRlZmluZWQpIHJlc3VsdCA9IHI7XG5cdFx0fVxuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59OyIsImltcG9ydCAnLi9nZW5lcmFsJztcclxuXHJcbmNsYXNzIEdlbnNoaW5Ub29sIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMudWlDYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiY2FudmFzXCIpO1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMudWlDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgICAgIHRoaXMubWFya2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXJrZXJcIik7XHJcbiAgICAgICAgdGhpcy5tYXBJbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcEltZ1wiKTtcclxuICAgICAgICB0aGlzLnVpU3VibWl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb3JtU3VibWl0XCIpO1xyXG4gICAgICAgIHRoaXMudWlOZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuZXh0XCIpO1xyXG4gICAgICAgIHRoaXMudWlSZXNldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzZXRcIik7XHJcbiAgICAgICAgdGhpcy51aVNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJzZWxlY3RcIik7XHJcbiAgICAgICAgdGhpcy51aVNwaW5uZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvYWRpbmdcIik7XHJcbiAgICAgICAgdGhpcy51aURlc2NyaXB0aW9uQm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvbkJveFwiKTtcclxuICAgICAgICB0aGlzLnVpU3VibWl0TWVzc2FnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3VibWl0TWVzc2FnZVwiKTtcclxuXHJcbiAgICAgICAgdGhpcy51cmwgPSBcImh0dHBzOi8vYXBpLmdlbnNoaW4uZGV2XCI7XHJcbiAgICAgICAgdGhpcy51cmxFeHRlbnNpb24gPSBcIlwiO1xyXG5cclxuICAgICAgICB0aGlzLmhvbGREYXRhID0gbnVsbDtcclxuICAgICAgICB0aGlzLmhvbGREYXRhQnJhbmNoID0gbnVsbDtcclxuICAgICAgICB0aGlzLmhvbGRKU09OID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5uZXh0SW5kZXggPSAwO1xyXG5cclxuICAgICAgICB0aGlzLmdldENvb3JkcyA9IHRoaXMuZ2V0Q29vcmRzLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5nZXRDb29yZHMoKTtcclxuICAgICAgICB0aGlzLmdldERhdGFiYXNlID0gdGhpcy5nZXREYXRhYmFzZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZ2V0RGF0YWJhc2UoMCwgXCJcIik7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2FkaW5nTWFwXCIpLmhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgdGhpcy51aUNhbnZhcy5oaWRkZW4gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmRyYXdDYW52YXModGhpcy5tYXBJbWcsIDQ1MjQsIDkxNCk7XHJcbiAgICAgICAgdGhpcy51aU5leHQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMudWlTdWJtaXQuaGlkZGVuID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy51aU5leHQuaGlkZGVuID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy51aVJlc2V0LmhpZGRlbiA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYWRkRXZlbnRIYW5kbGVycygpO1xyXG4gICAgfVxyXG4gICAgYWRkRXZlbnRIYW5kbGVycygpIHtcclxuICAgICAgICB0aGlzLmZvcm1TdWJtaXQgPSB0aGlzLmZvcm1TdWJtaXQuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmZpbmROZXh0ID0gdGhpcy5maW5kTmV4dC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMucmVzZXRGb3JtID0gdGhpcy5yZXNldEZvcm0uYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLnVpU3VibWl0Lm9uY2xpY2sgPSB0aGlzLmZvcm1TdWJtaXQ7XHJcbiAgICAgICAgdGhpcy51aU5leHQub25jbGljayA9IHRoaXMuZmluZE5leHQ7XHJcbiAgICAgICAgdGhpcy51aVJlc2V0Lm9uY2xpY2sgPSB0aGlzLnJlc2V0Rm9ybTtcclxuICAgIH1cclxuICAgIGdldERhdGFiYXNlKGluZGV4LCBleHRlbnNpb24pIHtcclxuICAgICAgICB0aGlzLnVpU3VibWl0TWVzc2FnZS5pbm5lckhUTUwgPSBcIiYjODIwM1wiO1xyXG4gICAgICAgIHRoaXMudWlTcGlubmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJkLW5vbmVcIik7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhpbmRleCwgZXh0ZW5zaW9uKTtcclxuICAgICAgICAvL2xldCBleHRlbnNpb24gPSBleHRlbnNpb25QYXJhbTtcclxuICAgICAgICAvL2V4dGVuc2lvbiA9IGV4dGVuc2lvblBhcmFtO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5ob2xkRGF0YSAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhvbGREYXRhW2V4dGVuc2lvbl0gIT0gdW5kZWZpbmVkKSB7IC8vRGF0YSBoZWxkIGhhcyBhIHByb3BlcnR5IHdpdGggdGhlIG5hbWUgb2YgdGhlIGV4dGVuc2lvbi4gIE5vIEFQSSBjYWxsIG5lY2Vzc2FyeS5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhvbGREYXRhQnJhbmNoID0gdGhpcy5ob2xkRGF0YVtleHRlbnNpb25dO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YodGhpcy5ob2xkRGF0YVtleHRlbnNpb25dKSAhPSAnb2JqZWN0JyAmJiB0eXBlb2YodGhpcy5ob2xkRGF0YVtleHRlbnNpb25dKSAhPSAndW5kZWZpbmVkJykgeyAvL0VuZCBvZiBvYmplY3QgdHJlZS4gIExvYWRzIHRleHQgaW5zdGVhZCBvZiBpbnB1dC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkSXRlbURlc2NyaXB0aW9uKHRoaXMuaG9sZERhdGFbZXh0ZW5zaW9uXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJNYWluIDFzdC5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRyb3Bkb3duTWVudXNcIikuY2hpbGRFbGVtZW50Q291bnQgPiAoaW5kZXggKiAyKSkgeyAvL0RlbGV0ZSBzZWxlY3QgYW5kIGJyIGVsZW1lbnRzIGdyZWF0ZXIgdGhhbiBpbmRleC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRyb3Bkb3duTWVudXNcIikuY2hpbGRFbGVtZW50Q291bnQgLSAoaW5kZXggKiAyKTsgaSA+IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZHJvcGRvd25NZW51c1wiKS5sYXN0Q2hpbGQucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVpU2VsZWN0W2luZGV4IC0gMl0gIT0gbnVsbCkgeyAvL0Rpc2FibGVzIGlucHV0cyBpbiBvcmRlciB0byBub3QgcmVxdWlyZSBtdWx0aXBsZSBBUEkgY2FsbHMgaW4gYSBsb29wLiAgKEkgYWxyZWFkeSB0cmllZC4gIENvdWxkbid0IGZpeCBidWdzLilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudWlTZWxlY3RbaW5kZXggLSAyXS5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiRGlzYWJsZWQgbWFpbi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3RoaXMuaG9sZERhdGEgPSB0aGlzLmhvbGREYXRhQnJhbmNoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudWlOZXh0LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkVWlJbnB1dHMoaW5kZXgsIHRoaXMuaG9sZERhdGFbZXh0ZW5zaW9uXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudWlTcGlubmVyLmNsYXNzTGlzdC5hZGQoXCJkLW5vbmVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLndhcm4odGhpcy5ob2xkRGF0YSwgdGhpcy5ob2xkRGF0YUJyYW5jaCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmhvbGREYXRhQnJhbmNoW2V4dGVuc2lvbl0gIT0gdW5kZWZpbmVkKSB7IFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YodGhpcy5ob2xkRGF0YVtleHRlbnNpb25dKSAhPSAnb2JqZWN0JyAmJiB0eXBlb2YodGhpcy5ob2xkRGF0YVtleHRlbnNpb25dKSAhPSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRJdGVtRGVzY3JpcHRpb24odGhpcy5ob2xkRGF0YVtleHRlbnNpb25dKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkJyYW5jaCAxc3QuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YodGhpcy5ob2xkRGF0YUJyYW5jaFtleHRlbnNpb25dKSAhPSAnb2JqZWN0JyAmJiB0eXBlb2YodGhpcy5ob2xkRGF0YUJyYW5jaFtleHRlbnNpb25dKSAhPSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRJdGVtRGVzY3JpcHRpb24odGhpcy5ob2xkRGF0YUJyYW5jaFtleHRlbnNpb25dKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkJyYW5jaCAybmQuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudWlTZWxlY3RbaW5kZXggLSAyXSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVpU2VsZWN0W2luZGV4IC0gMl0uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkRpc2FibGVkIGJyYW5jaC5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhvbGREYXRhID0gdGhpcy5ob2xkRGF0YUJyYW5jaDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaG9sZERhdGFCcmFuY2ggPSB0aGlzLmhvbGREYXRhQnJhbmNoW2V4dGVuc2lvbl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51aU5leHQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRVaUlucHV0cyhpbmRleCwgdGhpcy5ob2xkRGF0YUJyYW5jaCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudWlTcGlubmVyLmNsYXNzTGlzdC5hZGQoXCJkLW5vbmVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLndhcm4odGhpcy5ob2xkRGF0YSwgdGhpcy5ob2xkRGF0YUJyYW5jaCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXh0ZW5zaW9uICE9IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh0aGlzLnVybEV4dGVuc2lvbi5tYXRjaCgvXFwvW14gXFwvXSsvZykgfHwgW10pLmxlbmd0aCA+PSBpbmRleCkgeyAgLy9HZXRzIG9ubHkgdGhlIG5lY2Vzc2FyeSBudW1iZXIgb2YgZXh0ZW5zaW9ucyBmb3IgdGhlIEFQSSBjYWxsLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkRlbGV0ZSFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gKCh0aGlzLnVybEV4dGVuc2lvbi5tYXRjaCgvXFwvW14gXFwvXSsvZykgfHwgW10pLmxlbmd0aCk7IGkgPiBpbmRleCAtIDE7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wID0gdGhpcy51cmxFeHRlbnNpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcCA9IHRlbXAucmVwbGFjZSh0aGlzLnVybEV4dGVuc2lvbi5tYXRjaCgvXFwvW14gXFwvXSsvZylbaSAtIDFdLnRvU3RyaW5nKCksIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXJsRXh0ZW5zaW9uID0gdGVtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVybEV4dGVuc2lvbiArPSBgLyR7ZXh0ZW5zaW9ufWA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVpU2VsZWN0W2luZGV4IC0gMl0gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVpU2VsZWN0W2luZGV4IC0gMl0uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgJHt0aGlzLnVybH0ke3RoaXMudXJsRXh0ZW5zaW9ufWApO1xyXG4gICAgICAgICAgICAgICAgICAgIGZldGNoKGAke3RoaXMudXJsfSR7dGhpcy51cmxFeHRlbnNpb259YClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihkYXRhID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmRlc2NyaXB0aW9uICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRJdGVtRGVzY3JpcHRpb24oZGF0YS5kZXNjcmlwdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhvbGREYXRhID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhvbGREYXRhQnJhbmNoID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVpTmV4dC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkVWlJbnB1dHMoaW5kZXgsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51aVNwaW5uZXIuY2xhc3NMaXN0LmFkZChcImQtbm9uZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IGFsZXJ0KGVycm9yKSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHsgLy9EdXBsaWNhdGUgY29kZS5cclxuICAgICAgICAgICAgICAgIGlmIChleHRlbnNpb24gIT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgodGhpcy51cmxFeHRlbnNpb24ubWF0Y2goL1xcL1teIFxcL10rL2cpIHx8IFtdKS5sZW5ndGggPj0gaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkRlbGV0ZSFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAoKHRoaXMudXJsRXh0ZW5zaW9uLm1hdGNoKC9cXC9bXiBcXC9dKy9nKSB8fCBbXSkubGVuZ3RoKTsgaSA+IGluZGV4IC0gMTsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IHRoaXMudXJsRXh0ZW5zaW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcCA9IHRlbXAucmVwbGFjZSh0aGlzLnVybEV4dGVuc2lvbi5tYXRjaCgvXFwvW14gXFwvXSsvZylbaSAtIDFdLnRvU3RyaW5nKCksIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cmxFeHRlbnNpb24gPSB0ZW1wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXJsRXh0ZW5zaW9uICs9IGAvJHtleHRlbnNpb259YDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnVpU2VsZWN0W2luZGV4IC0gMl0gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudWlTZWxlY3RbaW5kZXggLSAyXS5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgJHt0aGlzLnVybH0ke3RoaXMudXJsRXh0ZW5zaW9ufWApO1xyXG4gICAgICAgICAgICAgICAgZmV0Y2goYCR7dGhpcy51cmx9JHt0aGlzLnVybEV4dGVuc2lvbn1gKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcclxuICAgICAgICAgICAgICAgICAgICAudGhlbihkYXRhID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuZGVzY3JpcHRpb24gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkSXRlbURlc2NyaXB0aW9uKGRhdGEuZGVzY3JpcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob2xkRGF0YSA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhvbGREYXRhQnJhbmNoID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudWlOZXh0LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZFVpSW5wdXRzKGluZGV4LCBkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVpU3Bpbm5lci5jbGFzc0xpc3QuYWRkKFwiZC1ub25lXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IGFsZXJ0KGVycm9yKSlcclxuICAgICAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0Q29vcmRzKCkge1xyXG4gICAgICAgIGZldGNoKFwiLi9hc3NldHMvZGF0YS9tYXBDb29yZHMuanNvblwiKVxyXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXHJcbiAgICAgICAgICAgIC50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaG9sZEpTT04gPSBkYXRhO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiBhbGVydChlcnJvcikpXHJcbiAgICB9XHJcbiAgICBnZXRJbWFnZShkYXRhKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcmV2aWV3XCIpLnNyYyA9IGRhdGE7XHJcbiAgICB9XHJcbiAgICBsb2FkSXRlbURlc2NyaXB0aW9uKGRhdGEpIHtcclxuICAgICAgICBpZiAodGhpcy51aURlc2NyaXB0aW9uQm94LmZpcnN0RWxlbWVudENoaWxkICE9IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy51aURlc2NyaXB0aW9uQm94LmZpcnN0RWxlbWVudENoaWxkLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb25UZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuICAgICAgICBkZXNjcmlwdGlvblRlbXBsYXRlLmlkID0gYGRlc2NyaXB0aW9uYDtcclxuICAgICAgICBkZXNjcmlwdGlvblRlbXBsYXRlLmlubmVySFRNTCA9IGRhdGE7XHJcblxyXG4gICAgICAgIHRoaXMudWlEZXNjcmlwdGlvbkJveC5hcHBlbmRDaGlsZChkZXNjcmlwdGlvblRlbXBsYXRlKTtcclxuICAgIH1cclxuICAgIGxvYWRVaUlucHV0cyhpbnB1dEluZGV4LCBkYXRhKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudWlEZXNjcmlwdGlvbkJveC5maXJzdEVsZW1lbnRDaGlsZCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMudWlEZXNjcmlwdGlvbkJveC5maXJzdEVsZW1lbnRDaGlsZC5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9jb25zb2xlLndhcm4oaW5wdXRJbmRleCwgZGF0YSk7XHJcbiAgICAgICAgY29uc3QgdGhpc0luZGV4ID0gaW5wdXRJbmRleDtcclxuICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkcm9wZG93bk1lbnVzXCIpLmNoaWxkRWxlbWVudENvdW50ID4gKHRoaXNJbmRleCAqIDIpKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRyb3Bkb3duTWVudXNcIikuY2hpbGRFbGVtZW50Q291bnQgLSAodGhpc0luZGV4ICogMik7IGkgPiAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZHJvcGRvd25NZW51c1wiKS5sYXN0Q2hpbGQucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHNlbGVjdFRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XHJcbiAgICAgICAgc2VsZWN0VGVtcGxhdGUuaWQgPSBgaW5wdXQke3RoaXNJbmRleH1gO1xyXG4gICAgICAgIHNlbGVjdFRlbXBsYXRlLmNsYXNzTGlzdC5hZGQoJ2Zvcm0tc2VsZWN0Jyk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZHJvcGRvd25NZW51c1wiKS5hcHBlbmRDaGlsZChzZWxlY3RUZW1wbGF0ZSk7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkcm9wZG93bk1lbnVzXCIpLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2JyJykpO1xyXG4gICAgICAgIC8qZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkcm9wZG93bk1lbnVzXCIpLmlubmVySFRNTCArPVxyXG4gICAgICAgIGA8c2VsZWN0IGlkPVwiaW5wdXQke3RoaXNJbmRleH1cIiBjbGFzcz1cImZvcm0tc2VsZWN0XCI+PC9zZWxlY3Q+XHJcbiAgICAgICAgPGJyPmA7Ki9cclxuXHJcbiAgICAgICAgY29uc3Qgb3B0aW9uRGVmYXVsdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xyXG4gICAgICAgIG9wdGlvbkRlZmF1bHQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIG9wdGlvbkRlZmF1bHQuaGlkZGVuID0gdHJ1ZTtcclxuICAgICAgICBvcHRpb25EZWZhdWx0LnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICBvcHRpb25EZWZhdWx0LmlubmVySFRNTCA9IFwiU2VsZWN0IG9uZS4uLlwiO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgaW5wdXQke3RoaXNJbmRleH1gKS5hcHBlbmRDaGlsZChvcHRpb25EZWZhdWx0KTtcclxuICAgICAgICAvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBpbnB1dCR7dGhpc0luZGV4fWApLmlubmVySFRNTCArPSBgPG9wdGlvbiB2YWx1ZT1cIlwiIGRpc2FibGVkIGhpZGRlbiBzZWxlY3RlZD5TZWxlY3Qgb25lLi4uPC9vcHRpb24+YDtcclxuICAgICAgICBpZiAodGhpc0luZGV4ID09IDApIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgZGF0YVZhbHVlIG9mIGRhdGEudHlwZXMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvblRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25UZW1wbGF0ZS52YWx1ZSA9IGRhdGFWYWx1ZTtcclxuICAgICAgICAgICAgICAgIG9wdGlvblRlbXBsYXRlLmlubmVySFRNTCA9IGRhdGFWYWx1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgaW5wdXQke3RoaXNJbmRleH1gKS5hcHBlbmRDaGlsZChvcHRpb25UZW1wbGF0ZSk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgaW5wdXQke3RoaXNJbmRleH1gKS5vbmNoYW5nZSA9ICgpID0+IHt0aGlzLmdldERhdGFiYXNlKHRoaXNJbmRleCArIDEsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBpbnB1dCR7dGhpc0luZGV4fWApLnZhbHVlKTt9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXNJbmRleCA9PSAxKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGRhdGFWYWx1ZSBvZiBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25UZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgb3B0aW9uVGVtcGxhdGUudmFsdWUgPSBkYXRhVmFsdWU7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25UZW1wbGF0ZS5pbm5lckhUTUwgPSBkYXRhVmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGlucHV0JHt0aGlzSW5kZXh9YCkuYXBwZW5kQ2hpbGQob3B0aW9uVGVtcGxhdGUpO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGlucHV0JHt0aGlzSW5kZXh9YCkub25jaGFuZ2UgPSAoKSA9PiB7dGhpcy5nZXREYXRhYmFzZSh0aGlzSW5kZXggKyAxLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgaW5wdXQke3RoaXNJbmRleH1gKS52YWx1ZSk7fTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgZGF0YUtleSBpbiBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25UZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgb3B0aW9uVGVtcGxhdGUudmFsdWUgPSBkYXRhS2V5O1xyXG4gICAgICAgICAgICAgICAgb3B0aW9uVGVtcGxhdGUuaW5uZXJIVE1MID0gZGF0YUtleTtcclxuXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgaW5wdXQke3RoaXNJbmRleH1gKS5hcHBlbmRDaGlsZChvcHRpb25UZW1wbGF0ZSk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgaW5wdXQke3RoaXNJbmRleH1gKS5vbmNoYW5nZSA9ICgpID0+IHt0aGlzLmdldERhdGFiYXNlKHRoaXNJbmRleCArIDEsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBpbnB1dCR7dGhpc0luZGV4fWApLnZhbHVlKTt9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnVpU2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcInNlbGVjdFwiKTtcclxuICAgIH1cclxuICAgIGZvcm1TdWJtaXQoZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHRoaXMubmV4dEluZGV4ID0gMDtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKFwiU3VjY2VzcyFcIik7XHJcbiAgICAgICAgY29uc3QgaW5wdXQwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnB1dDBcIik7XHJcbiAgICAgICAgaWYgKGlucHV0MC5zZWxlY3RlZEluZGV4ID09IDApIHtcclxuICAgICAgICAgICAgdGhpcy51aVN1Ym1pdE1lc3NhZ2UuaW5uZXJIVE1MID0gXCJObyBpdGVtIHNlbGVjdGVkLlwiXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKFtcImNoYXJhY3RlcnNcIiwgXCJlbGVtZW50c1wiLCBcImVuZW1pZXNcIl0uaW5jbHVkZXMoaW5wdXQwLnZhbHVlKSkge1xyXG4gICAgICAgICAgICBsZXQgc3VibWl0TWVzc2FnZSA9IGAke2lucHV0MC52YWx1ZX0gYXJlIG5vdCBpdGVtcywgYW5kIGRvIG5vdCBoYXZlIGEgbG9jYXRpb24gb24gdGhpcyBtYXAuYFxyXG4gICAgICAgICAgICB0aGlzLnVpU3VibWl0TWVzc2FnZS5pbm5lckhUTUwgPSBzdWJtaXRNZXNzYWdlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IGNvb3JkcyA9IHRoaXMuc2VhcmNoQ29vcmRzKDApO1xyXG4gICAgICAgICAgICBpZiAoY29vcmRzID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudWlTdWJtaXRNZXNzYWdlLmlubmVySFRNTCA9IFwiTm90IGZvdW5kLlwiXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdDYW52YXModGhpcy5tYXBJbWcsIDQ1MjQsIDkxNCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdDYW52YXModGhpcy5tYXBJbWcsIGNvb3Jkc1swXSwgY29vcmRzWzFdKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb29yZHNbMl0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd01hcmtlcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy51aVN1Ym1pdE1lc3NhZ2UuaW5uZXJIVE1MID0gXCImIzgyMDNcIjtcclxuICAgICAgICAgICAgICAgIHRoaXMudWlOZXh0LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmaW5kTmV4dChldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdGhpcy5uZXh0SW5kZXgrKztcclxuICAgICAgICAvL2NvbnNvbGUubG9nKFwiU3VjY2VzcyFcIik7XHJcbiAgICAgICAgbGV0IGNvb3JkcyA9IHRoaXMuc2VhcmNoQ29vcmRzKHRoaXMubmV4dEluZGV4KTtcclxuICAgICAgICBpZiAoY29vcmRzID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy51aVN1Ym1pdE1lc3NhZ2UuaW5uZXJIVE1MID0gXCJOb3QgZm91bmQuXCJcclxuICAgICAgICAgICAgdGhpcy51aU5leHQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5kcmF3Q2FudmFzKHRoaXMubWFwSW1nLCBjb29yZHNbMF0sIGNvb3Jkc1sxXSk7XHJcbiAgICAgICAgICAgIGlmIChjb29yZHNbMl0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3TWFya2VyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzZWFyY2hDb29yZHMoaW5kZXgpIHtcclxuICAgICAgICBpZiAoaW5kZXggPiAwKSB7IC8vRmluZCBuZXh0LlxyXG4gICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gW107XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmhvbGREYXRhQnJhbmNoLnNvdXJjZSAhPSB1bmRlZmluZWQpIHsgLy9NYXRjaCBsb2NhdGlvbiBmcm9tIEFQSSBkYXRhLlxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgbmFtZU9mIGluIHRoaXMuaG9sZEpTT04pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ob2xkRGF0YUJyYW5jaC5zb3VyY2UgPT0gbmFtZU9mIHx8IHRoaXMuaG9sZERhdGFCcmFuY2guc291cmNlID09IHRoaXMuaG9sZEpTT05bbmFtZU9mXS5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXMucHVzaCh0aGlzLmhvbGRKU09OW25hbWVPZl0uY29vcmRzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5ob2xkRGF0YUJyYW5jaC5zb3VyY2VzICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgbmFtZU9mIGluIHRoaXMuaG9sZEpTT04pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ob2xkRGF0YUJyYW5jaC5zb3VyY2VzW2luZGV4XSA9PSBuYW1lT2YgfHwgdGhpcy5ob2xkRGF0YUJyYW5jaC5zb3VyY2VzW2luZGV4XSA9PSB0aGlzLmhvbGRKU09OW25hbWVPZl0ubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2godGhpcy5ob2xkSlNPTltuYW1lT2ZdLmNvb3Jkcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuaG9sZERhdGEuc291cmNlICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgbmFtZU9mIGluIHRoaXMuaG9sZEpTT04pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ob2xkRGF0YS5zb3VyY2UgPT0gbmFtZU9mIHx8IHRoaXMuaG9sZERhdGEuc291cmNlID09IHRoaXMuaG9sZEpTT05bbmFtZU9mXS5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXMucHVzaCh0aGlzLmhvbGRKU09OW25hbWVPZl0uY29vcmRzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5ob2xkRGF0YS5zb3VyY2VzICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgbmFtZU9mIGluIHRoaXMuaG9sZEpTT04pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ob2xkRGF0YS5zb3VyY2VzW2luZGV4XSA9PSBuYW1lT2YgfHwgdGhpcy5ob2xkRGF0YS5zb3VyY2VzW2luZGV4XSA9PSB0aGlzLmhvbGRKU09OW25hbWVPZl0ubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2godGhpcy5ob2xkSlNPTltuYW1lT2ZdLmNvb3Jkcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgKiAyIDwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkcm9wZG93bk1lbnVzXCIpLmNoaWxkRWxlbWVudENvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBuYW1lT2YgaW4gdGhpcy5ob2xkSlNPTikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGlucHV0JHtpfWApLnZhbHVlID09IG5hbWVPZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKHRoaXMuaG9sZEpTT05bbmFtZU9mXS5jb29yZHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIHRoaXMuaG9sZEpTT05bbmFtZU9mXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGtleVZhbHVlIG9mIHRoaXMuaG9sZEpTT05bbmFtZU9mXVtrZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgaW5wdXQke2l9YCkudmFsdWUgPT0ga2V5VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXMucHVzaCh0aGlzLmhvbGRKU09OW25hbWVPZl0uY29vcmRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKG1hdGNoZXNbaW5kZXhdKTtcclxuICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXNbaW5kZXhdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaG9sZERhdGFCcmFuY2guc291cmNlICE9IHVuZGVmaW5lZCkgeyAvL01hdGNoIGxvY2F0aW9uIGZyb20gQVBJIGRhdGEuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBuYW1lT2YgaW4gdGhpcy5ob2xkSlNPTikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhvbGREYXRhQnJhbmNoLnNvdXJjZSA9PSBuYW1lT2YgfHwgdGhpcy5ob2xkRGF0YUJyYW5jaC5zb3VyY2UgPT0gdGhpcy5ob2xkSlNPTltuYW1lT2ZdLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaG9sZEpTT05bbmFtZU9mXS5jb29yZHM7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuaG9sZERhdGFCcmFuY2guc291cmNlcyAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IG5hbWVPZiBpbiB0aGlzLmhvbGRKU09OKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaG9sZERhdGFCcmFuY2guc291cmNlc1swXSA9PSBuYW1lT2YgfHwgdGhpcy5ob2xkRGF0YUJyYW5jaC5zb3VyY2VzWzBdID09IHRoaXMuaG9sZEpTT05bbmFtZU9mXS5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmhvbGRKU09OW25hbWVPZl0uY29vcmRzO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmhvbGREYXRhLnNvdXJjZSAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IG5hbWVPZiBpbiB0aGlzLmhvbGRKU09OKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaG9sZERhdGEuc291cmNlID09IG5hbWVPZiB8fCB0aGlzLmhvbGREYXRhLnNvdXJjZSA9PSB0aGlzLmhvbGRKU09OW25hbWVPZl0ubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ob2xkSlNPTltuYW1lT2ZdLmNvb3JkcztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5ob2xkRGF0YS5zb3VyY2VzICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgbmFtZU9mIGluIHRoaXMuaG9sZEpTT04pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ob2xkRGF0YS5zb3VyY2VzWzBdID09IG5hbWVPZiB8fCB0aGlzLmhvbGREYXRhLnNvdXJjZXNbMF0gPT0gdGhpcy5ob2xkSlNPTltuYW1lT2ZdLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaG9sZEpTT05bbmFtZU9mXS5jb29yZHM7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgKiAyIDwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkcm9wZG93bk1lbnVzXCIpLmNoaWxkRWxlbWVudENvdW50OyBpKyspIHsgLy9TZWFyY2ggZWFjaCBpbnB1dCB2YWx1ZSBzdGFydGluZyBhdCBzZWNvbmQgaW5wdXQuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgbmFtZU9mIGluIHRoaXMuaG9sZEpTT04pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBpbnB1dCR7aX1gKS52YWx1ZSA9PSBuYW1lT2YpIHsgLy9NYXRjaCBsb2NhdGlvbiBkaXJlY3RseS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmhvbGRKU09OW25hbWVPZl0uY29vcmRzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgeyAvL01hdGNoIGl0ZW0gYXQgbG9jYXRpb24uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gdGhpcy5ob2xkSlNPTltuYW1lT2ZdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQga2V5VmFsdWUgb2YgdGhpcy5ob2xkSlNPTltuYW1lT2ZdW2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBpbnB1dCR7aX1gKS52YWx1ZSA9PSBrZXlWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaG9sZEpTT05bbmFtZU9mXS5jb29yZHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBkcmF3Q2FudmFzKGltZywgeCwgeSkge1xyXG4gICAgICAgIC8vdGhpcy5jb250ZXh0LnNjYWxlKHNjYWxlLCBzY2FsZSk7XHJcbiAgICAgICAgLy90aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubWFya2VyLCAoKHRoaXMudWlDYW52YXMud2lkdGggLSB0aGlzLm1hcmtlci53aWR0aCkgLyAyKSwgMCk7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZShpbWcsIC14ICsgMjUwLCAteSArIDI1MCk7XHJcbiAgICB9XHJcbiAgICBkcmF3TWFya2VyKCkge1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5tYXJrZXIsIDI1MCAtIDI1LCAyNTAgLSAxMDApO1xyXG4gICAgfVxyXG4gICAgcmVzZXRGb3JtKGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAvKmlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRyb3Bkb3duTWVudXNcIikuY2hpbGRFbGVtZW50Q291bnQgPiAoMikpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZHJvcGRvd25NZW51c1wiKS5jaGlsZEVsZW1lbnRDb3VudCAtICgyKTsgaSA+IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkcm9wZG93bk1lbnVzXCIpLmxhc3RDaGlsZC5yZW1vdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0qL1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZHJvcGRvd25NZW51c1wiKS5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgIHRoaXMudXJsRXh0ZW5zaW9uID0gXCJcIjtcclxuICAgICAgICB0aGlzLm5leHRJbmRleCA9IDA7XHJcbiAgICAgICAgdGhpcy51aU5leHQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIC8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGlucHV0MGApLnNlbGVjdGVkSW5kZXggPSAwO1xyXG4gICAgICAgIHRoaXMuZ2V0RGF0YWJhc2UoMCwgXCJcIik7XHJcbiAgICAgICAgdGhpcy5kcmF3Q2FudmFzKHRoaXMubWFwSW1nLCA0NTI0LCA5MTQpO1xyXG4gICAgfVxyXG59XHJcblxyXG5sZXQgbWFpbjtcclxud2luZG93Lm9ubG9hZCA9ICgpID0+IHttYWluID0gbmV3IEdlbnNoaW5Ub29sKCk7fTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCIvLyBubyBiYXNlVVJJXG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4vLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8vIFtyZXNvbHZlLCByZWplY3QsIFByb21pc2VdID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0ODI2OiAwXG59O1xuXG4vLyBubyBjaHVuayBvbiBkZW1hbmQgbG9hZGluZ1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8uaiA9IChjaHVua0lkKSA9PiAoaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID09PSAwKTtcblxuLy8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG52YXIgd2VicGFja0pzb25wQ2FsbGJhY2sgPSAocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24sIGRhdGEpID0+IHtcblx0dmFyIFtjaHVua0lkcywgbW9yZU1vZHVsZXMsIHJ1bnRpbWVdID0gZGF0YTtcblx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG5cdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuXHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwO1xuXHRpZihjaHVua0lkcy5zb21lKChpZCkgPT4gKGluc3RhbGxlZENodW5rc1tpZF0gIT09IDApKSkge1xuXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuXHRcdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcblx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYocnVudGltZSkgdmFyIHJlc3VsdCA9IHJ1bnRpbWUoX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdH1cblx0aWYocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24pIHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKGRhdGEpO1xuXHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuXHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcblx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSgpO1xuXHRcdH1cblx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuXHR9XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLk8ocmVzdWx0KTtcbn1cblxudmFyIGNodW5rTG9hZGluZ0dsb2JhbCA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtpdGVtX2ZpbmRlclwiXSA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtpdGVtX2ZpbmRlclwiXSB8fCBbXTtcbmNodW5rTG9hZGluZ0dsb2JhbC5mb3JFYWNoKHdlYnBhY2tKc29ucENhbGxiYWNrLmJpbmQobnVsbCwgMCkpO1xuY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIGNodW5rTG9hZGluZ0dsb2JhbC5wdXNoLmJpbmQoY2h1bmtMb2FkaW5nR2xvYmFsKSk7IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBkZXBlbmRzIG9uIG90aGVyIGxvYWRlZCBjaHVua3MgYW5kIGV4ZWN1dGlvbiBuZWVkIHRvIGJlIGRlbGF5ZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKHVuZGVmaW5lZCwgWzk5NF0sICgpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fKDg4NikpKVxuX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyhfX3dlYnBhY2tfZXhwb3J0c19fKTtcbiJdLCJuYW1lcyI6WyJkZWZlcnJlZCIsIkdlbnNoaW5Ub29sIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsInVpQ2FudmFzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGV4dCIsImdldENvbnRleHQiLCJtYXJrZXIiLCJnZXRFbGVtZW50QnlJZCIsIm1hcEltZyIsInVpU3VibWl0IiwidWlOZXh0IiwidWlSZXNldCIsInVpU2VsZWN0IiwicXVlcnlTZWxlY3RvckFsbCIsInVpU3Bpbm5lciIsInVpRGVzY3JpcHRpb25Cb3giLCJ1aVN1Ym1pdE1lc3NhZ2UiLCJ1cmwiLCJ1cmxFeHRlbnNpb24iLCJob2xkRGF0YSIsImhvbGREYXRhQnJhbmNoIiwiaG9sZEpTT04iLCJuZXh0SW5kZXgiLCJnZXRDb29yZHMiLCJiaW5kIiwiZ2V0RGF0YWJhc2UiLCJoaWRkZW4iLCJkcmF3Q2FudmFzIiwiZGlzYWJsZWQiLCJhZGRFdmVudEhhbmRsZXJzIiwia2V5IiwidmFsdWUiLCJmb3JtU3VibWl0IiwiZmluZE5leHQiLCJyZXNldEZvcm0iLCJvbmNsaWNrIiwiaW5kZXgiLCJleHRlbnNpb24iLCJfdGhpcyIsImlubmVySFRNTCIsImNsYXNzTGlzdCIsInJlbW92ZSIsInVuZGVmaW5lZCIsIl90eXBlb2YiLCJsb2FkSXRlbURlc2NyaXB0aW9uIiwiY2hpbGRFbGVtZW50Q291bnQiLCJpIiwibGFzdENoaWxkIiwibG9hZFVpSW5wdXRzIiwiYWRkIiwibWF0Y2giLCJsZW5ndGgiLCJ0ZW1wIiwicmVwbGFjZSIsInRvU3RyaW5nIiwiY29uY2F0IiwiY29uc29sZSIsImxvZyIsImZldGNoIiwidGhlbiIsInJlc3BvbnNlIiwianNvbiIsImRhdGEiLCJkZXNjcmlwdGlvbiIsImVycm9yIiwiYWxlcnQiLCJfdGhpczIiLCJzcmMiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImRlc2NyaXB0aW9uVGVtcGxhdGUiLCJjcmVhdGVFbGVtZW50IiwiaWQiLCJhcHBlbmRDaGlsZCIsImlucHV0SW5kZXgiLCJfdGhpczMiLCJ0aGlzSW5kZXgiLCJzZWxlY3RUZW1wbGF0ZSIsIm9wdGlvbkRlZmF1bHQiLCJzZWxlY3RlZCIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiLCJ0eXBlcyIsInMiLCJuIiwiZG9uZSIsImRhdGFWYWx1ZSIsIm9wdGlvblRlbXBsYXRlIiwib25jaGFuZ2UiLCJlcnIiLCJlIiwiZiIsIl9zdGVwMiIsIl9pdGVyYXRvcjIiLCJkYXRhS2V5IiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImlucHV0MCIsInNlbGVjdGVkSW5kZXgiLCJpbmNsdWRlcyIsInN1Ym1pdE1lc3NhZ2UiLCJjb29yZHMiLCJzZWFyY2hDb29yZHMiLCJkcmF3TWFya2VyIiwibWF0Y2hlcyIsInNvdXJjZSIsIm5hbWVPZiIsIm5hbWUiLCJwdXNoIiwic291cmNlcyIsIl9zdGVwMyIsIl9pdGVyYXRvcjMiLCJrZXlWYWx1ZSIsIl9zdGVwNCIsIl9pdGVyYXRvcjQiLCJpbWciLCJ4IiwieSIsImRyYXdJbWFnZSIsIndpbmRvdyIsIm9ubG9hZCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibSIsIk8iLCJyZXN1bHQiLCJjaHVua0lkcyIsImZuIiwicHJpb3JpdHkiLCJub3RGdWxmaWxsZWQiLCJJbmZpbml0eSIsImZ1bGZpbGxlZCIsImoiLCJPYmplY3QiLCJrZXlzIiwiZXZlcnkiLCJzcGxpY2UiLCJyIiwiZCIsImRlZmluaXRpb24iLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwiaW5zdGFsbGVkQ2h1bmtzIiwiY2h1bmtJZCIsIndlYnBhY2tKc29ucENhbGxiYWNrIiwicGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24iLCJtb3JlTW9kdWxlcyIsInJ1bnRpbWUiLCJzb21lIiwiY2h1bmtMb2FkaW5nR2xvYmFsIiwic2VsZiIsImZvckVhY2giLCJfX3dlYnBhY2tfZXhwb3J0c19fIl0sInNvdXJjZVJvb3QiOiIifQ==