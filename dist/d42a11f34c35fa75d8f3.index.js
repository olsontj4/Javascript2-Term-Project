(()=>{"use strict";var t,e={886:(t,e,n)=>{function i(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i.key),"symbol"===r(o)?o:String(o)),i)}var o}n(138);var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.uiCanvas=document.querySelector("canvas"),this.context=this.uiCanvas.getContext("2d"),this.marker=document.getElementById("marker"),this.mapImg=document.getElementById("mapImg"),this.uiSubmit=document.getElementById("formSubmit"),this.uiNext=document.getElementById("next"),this.uiReset=document.getElementById("reset"),this.uiSelect=document.querySelectorAll("select"),this.uiSpinner=document.getElementById("loading"),this.uiDescriptionBox=document.getElementById("descriptionBox"),this.uiSubmitMessage=document.getElementById("submitMessage"),this.url="https://api.genshin.dev",this.urlExtension="",this.holdData=null,this.holdDataBranch=null,this.holdJSON=null,this.nextIndex=0,this.getCoords=this.getCoords.bind(this),this.getCoords(),this.getDatabase=this.getDatabase.bind(this),this.getDatabase(0,""),document.getElementById("loadingMap").hidden=!0,this.uiCanvas.hidden=!1,this.drawCanvas(this.mapImg,4524,914),this.uiNext.disabled=!0,this.uiSubmit.hidden=!1,this.uiNext.hidden=!1,this.uiReset.hidden=!1,this.addEventHandlers()}var e,n;return e=t,(n=[{key:"addEventHandlers",value:function(){this.formSubmit=this.formSubmit.bind(this),this.findNext=this.findNext.bind(this),this.resetForm=this.resetForm.bind(this),this.uiSubmit.onclick=this.formSubmit,this.uiNext.onclick=this.findNext,this.uiReset.onclick=this.resetForm}},{key:"getDatabase",value:function(t,e){var n=this;if(this.uiSubmitMessage.innerHTML="&#8203",this.uiSpinner.classList.remove("d-none"),null!=this.holdData)if(null!=this.holdData[e]){if(this.holdDataBranch=this.holdData[e],"object"!=r(this.holdData[e])&&void 0!==this.holdData[e]){if(this.loadItemDescription(this.holdData[e]),document.getElementById("dropdownMenus").childElementCount>2*t)for(var i=document.getElementById("dropdownMenus").childElementCount-2*t;i>0;i--)document.getElementById("dropdownMenus").lastChild.remove()}else null!=this.uiSelect[t-2]&&(this.uiSelect[t-2].disabled=!0),this.uiNext.disabled=!0,this.loadUiInputs(t,this.holdData[e]);this.uiSpinner.classList.add("d-none")}else if(null!=this.holdDataBranch[e])"object"!=r(this.holdData[e])&&void 0!==this.holdData[e]?this.loadItemDescription(this.holdData[e]):"object"!=r(this.holdDataBranch[e])&&void 0!==this.holdDataBranch[e]?this.loadItemDescription(this.holdDataBranch[e]):(null!=this.uiSelect[t-2]&&(this.uiSelect[t-2].disabled=!0,this.holdData=this.holdDataBranch,this.holdDataBranch=this.holdDataBranch[e]),this.uiNext.disabled=!0,this.loadUiInputs(t,this.holdDataBranch)),this.uiSpinner.classList.add("d-none");else{if(""!=e){if((this.urlExtension.match(/\/[^ \/]+/g)||[]).length>=t)for(var o=(this.urlExtension.match(/\/[^ \/]+/g)||[]).length;o>t-1;o--){var a=this.urlExtension;a=a.replace(this.urlExtension.match(/\/[^ \/]+/g)[o-1].toString(),""),this.urlExtension=a}this.urlExtension+="/".concat(e)}null!=this.uiSelect[t-2]&&(this.uiSelect[t-2].disabled=!0),console.log("".concat(this.url).concat(this.urlExtension)),fetch("".concat(this.url).concat(this.urlExtension)).then((function(t){return t.json()})).then((function(e){null!=e.description?n.loadItemDescription(e.description):(n.holdData=e,n.holdDataBranch=e,n.uiNext.disabled=!0,n.loadUiInputs(t,e)),n.uiSpinner.classList.add("d-none")})).catch((function(t){return alert(t)}))}else{if(""!=e){if((this.urlExtension.match(/\/[^ \/]+/g)||[]).length>=t)for(var s=(this.urlExtension.match(/\/[^ \/]+/g)||[]).length;s>t-1;s--){var l=this.urlExtension;l=l.replace(this.urlExtension.match(/\/[^ \/]+/g)[s-1].toString(),""),this.urlExtension=l}this.urlExtension+="/".concat(e)}null!=this.uiSelect[t-2]&&(this.uiSelect[t-2].disabled=!0),console.log("".concat(this.url).concat(this.urlExtension)),fetch("".concat(this.url).concat(this.urlExtension)).then((function(t){return t.json()})).then((function(e){null!=e.description?n.loadItemDescription(e.description):(n.holdData=e,n.holdDataBranch=e,n.uiNext.disabled=!0,n.loadUiInputs(t,e)),n.uiSpinner.classList.add("d-none")})).catch((function(t){return alert(t)}))}}},{key:"getCoords",value:function(){var t=this;fetch("./assets/data/mapCoords.json").then((function(t){return t.json()})).then((function(e){t.holdJSON=e})).catch((function(t){return alert(t)}))}},{key:"getImage",value:function(t){document.getElementById("preview").src=t}},{key:"loadItemDescription",value:function(t){null!=this.uiDescriptionBox.firstElementChild&&this.uiDescriptionBox.firstElementChild.remove();var e=document.createElement("p");e.id="description",e.innerHTML=t,this.uiDescriptionBox.appendChild(e)}},{key:"loadUiInputs",value:function(t,e){var n=this;null!=this.uiDescriptionBox.firstElementChild&&this.uiDescriptionBox.firstElementChild.remove();var o=t;if(document.getElementById("dropdownMenus").childElementCount>2*o)for(var r=document.getElementById("dropdownMenus").childElementCount-2*o;r>0;r--)document.getElementById("dropdownMenus").lastChild.remove();var a=document.createElement("select");a.id="input".concat(o),a.classList.add("form-select"),document.querySelector("#dropdownMenus").appendChild(a),document.querySelector("#dropdownMenus").appendChild(document.createElement("br"));var s=document.createElement("option");if(s.disabled=!0,s.hidden=!0,s.selected=!0,s.innerHTML="Select one...",document.getElementById("input".concat(o)).appendChild(s),0==o){var l,h=i(e.types);try{for(h.s();!(l=h.n()).done;){var d=l.value,u=document.createElement("option");u.value=d,u.innerHTML=d,document.getElementById("input".concat(o)).appendChild(u),document.getElementById("input".concat(o)).onchange=function(){n.getDatabase(o+1,document.getElementById("input".concat(o)).value)}}}catch(t){h.e(t)}finally{h.f()}}else if(1==o){var c,m=i(e);try{for(m.s();!(c=m.n()).done;){var f=c.value,p=document.createElement("option");p.value=f,p.innerHTML=f,document.getElementById("input".concat(o)).appendChild(p),document.getElementById("input".concat(o)).onchange=function(){n.getDatabase(o+1,document.getElementById("input".concat(o)).value)}}}catch(t){m.e(t)}finally{m.f()}}else for(var v in e){var y=document.createElement("option");y.value=v,y.innerHTML=v,document.getElementById("input".concat(o)).appendChild(y),document.getElementById("input".concat(o)).onchange=function(){n.getDatabase(o+1,document.getElementById("input".concat(o)).value)}}this.uiSelect=document.querySelectorAll("select")}},{key:"formSubmit",value:function(t){if(this.nextIndex=0,t.preventDefault(),0==document.getElementById("input0").selectedIndex)this.uiSubmitMessage.innerHTML="No item selected.";else if("characters"==document.getElementById("input0").value||"enemies"==document.getElementById("input0").value){var e="".concat(document.getElementById("input0").value," are not items, and do not have a location on this map.");this.uiSubmitMessage.innerHTML=e}else{var n=this.searchCoords(0);null==n?(this.uiSubmitMessage.innerHTML="Not found.",this.drawCanvas(this.mapImg,4524,914)):(this.drawCanvas(this.mapImg,n[0],n[1]),null==n[2]&&this.drawMarker(),this.uiSubmitMessage.innerHTML="&#8203",this.uiNext.disabled=!1)}}},{key:"findNext",value:function(t){this.nextIndex++,t.preventDefault();var e=this.searchCoords(this.nextIndex);null==e?(this.uiSubmitMessage.innerHTML="Not found.",this.uiNext.disabled=!0):(this.drawCanvas(this.mapImg,e[0],e[1]),null==e[2]&&this.drawMarker())}},{key:"searchCoords",value:function(t){if(t>0){var e=[];if(null!=this.holdDataBranch.source)for(var n in this.holdJSON)this.holdDataBranch.source!=n&&this.holdDataBranch.source!=this.holdJSON[n].name||e.push(this.holdJSON[n].coords);else if(null!=this.holdData.source)for(var o in this.holdJSON)this.holdData.source!=o&&this.holdData.source!=this.holdJSON[o].name||e.push(this.holdJSON[o].coords);else if(null!=this.holdDataBranch.sources)for(var r in this.holdJSON)this.holdDataBranch.sources[t]!=r&&this.holdDataBranch.sources[t]!=this.holdJSON[r].name||e.push(this.holdJSON[r].coords);else if(null!=this.holdData.sources)for(var a in this.holdJSON)this.holdData.sources[t]!=a&&this.holdData.sources[t]!=this.holdJSON[a].name||e.push(this.holdJSON[a].coords);else for(var s=1;2*s<document.getElementById("dropdownMenus").childElementCount;s++)for(var l in this.holdJSON)if(document.getElementById("input".concat(s)).value==l)e.push(this.holdJSON[l].coords);else for(var h in this.holdJSON[l]){var d,u=i(this.holdJSON[l][h]);try{for(u.s();!(d=u.n()).done;){var c=d.value;document.getElementById("input".concat(s)).value==c&&e.push(this.holdJSON[l].coords)}}catch(t){u.e(t)}finally{u.f()}}return e[t]}if(null!=this.holdDataBranch.source){for(var m in this.holdJSON)if(this.holdDataBranch.source==m||this.holdDataBranch.source==this.holdJSON[m].name)return this.holdJSON[m].coords}else if(null!=this.holdData.source){for(var f in this.holdJSON)if(this.holdData.source==f||this.holdData.source==this.holdJSON[f].name)return this.holdJSON[f].coords}else if(null!=this.holdDataBranch.sources){for(var p in this.holdJSON)if(this.holdDataBranch.sources[0]==p||this.holdDataBranch.sources[0]==this.holdJSON[p].name)return this.holdJSON[p].coords}else if(null!=this.holdData.sources){for(var v in this.holdJSON)if(this.holdData.sources[0]==v||this.holdData.sources[0]==this.holdJSON[v].name)return this.holdJSON[v].coords}else for(var y=1;2*y<document.getElementById("dropdownMenus").childElementCount;y++)for(var g in this.holdJSON){if(document.getElementById("input".concat(y)).value==g)return this.holdJSON[g].coords;for(var S in this.holdJSON[g]){var b,E=i(this.holdJSON[g][S]);try{for(E.s();!(b=E.n()).done;){var D=b.value;if(document.getElementById("input".concat(y)).value==D)return this.holdJSON[g].coords}}catch(t){E.e(t)}finally{E.f()}}}return null}},{key:"drawCanvas",value:function(t,e,n){this.context.drawImage(t,250-e,250-n)}},{key:"drawMarker",value:function(){this.context.drawImage(this.marker,225,150)}},{key:"resetForm",value:function(t){t.preventDefault(),document.querySelector("#dropdownMenus").innerHTML="",this.urlExtension="",this.nextIndex=0,this.uiNext.disabled=!0,this.getDatabase(0,""),this.drawCanvas(this.mapImg,4524,914)}}])&&a(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();window.onload=function(){new s}}},n={};function i(t){var o=n[t];if(void 0!==o)return o.exports;var r=n[t]={exports:{}};return e[t](r,r.exports,i),r.exports}i.m=e,t=[],i.O=(e,n,o,r)=>{if(!n){var a=1/0;for(d=0;d<t.length;d++){for(var[n,o,r]=t[d],s=!0,l=0;l<n.length;l++)(!1&r||a>=r)&&Object.keys(i.O).every((t=>i.O[t](n[l])))?n.splice(l--,1):(s=!1,r<a&&(a=r));if(s){t.splice(d--,1);var h=o();void 0!==h&&(e=h)}}return e}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[n,o,r]},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={826:0};i.O.j=e=>0===t[e];var e=(e,n)=>{var o,r,[a,s,l]=n,h=0;if(a.some((e=>0!==t[e]))){for(o in s)i.o(s,o)&&(i.m[o]=s[o]);if(l)var d=l(i)}for(e&&e(n);h<a.length;h++)r=a[h],i.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return i.O(d)},n=self.webpackChunkitem_finder=self.webpackChunkitem_finder||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var o=i.O(void 0,[994],(()=>i(886)));o=i.O(o)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixFQUFTK0IsRUFBUXZDLEVBQ2xDLENBRUEsSUFER3FDLEdBQTRCQSxFQUEyQi9GLEdBQ3JEaEIsRUFBSW1GLEVBQVM5RSxPQUFRTCxJQUN6QjZHLEVBQVUxQixFQUFTbkYsR0FDaEIwRSxFQUFvQnVCLEVBQUVXLEVBQWlCQyxJQUFZRCxFQUFnQkMsSUFDckVELEVBQWdCQyxHQUFTLEtBRTFCRCxFQUFnQkMsR0FBVyxFQUU1QixPQUFPbkMsRUFBb0JPLEVBQUVDLEVBQU8sRUFHakNpQyxFQUFxQkMsS0FBOEIsd0JBQUlBLEtBQThCLHlCQUFLLEdBQzlGRCxFQUFtQkUsUUFBUVAsRUFBcUJwSSxLQUFLLEtBQU0sSUFDM0R5SSxFQUFtQnZELEtBQU9rRCxFQUFxQnBJLEtBQUssS0FBTXlJLEVBQW1CdkQsS0FBS2xGLEtBQUt5SSxHLEtDN0N2RixJQUFJRyxFQUFzQjVDLEVBQW9CTyxPQUFFckYsRUFBVyxDQUFDLE1BQU0sSUFBTzhFLEVBQW9CLE9BQzdGNEMsRUFBc0I1QyxFQUFvQk8sRUFBRXFDLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pdGVtLWZpbmRlci93ZWJwYWNrL3J1bnRpbWUvY2h1bmsgbG9hZGVkIiwid2VicGFjazovL2l0ZW0tZmluZGVyLy4vc3JjL2pzL3NjcmlwdC5qcyIsIndlYnBhY2s6Ly9pdGVtLWZpbmRlci93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9pdGVtLWZpbmRlci93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vaXRlbS1maW5kZXIvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9pdGVtLWZpbmRlci93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2l0ZW0tZmluZGVyL3dlYnBhY2svcnVudGltZS9qc29ucCBjaHVuayBsb2FkaW5nIiwid2VicGFjazovL2l0ZW0tZmluZGVyL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZGVmZXJyZWQgPSBbXTtcbl9fd2VicGFja19yZXF1aXJlX18uTyA9IChyZXN1bHQsIGNodW5rSWRzLCBmbiwgcHJpb3JpdHkpID0+IHtcblx0aWYoY2h1bmtJZHMpIHtcblx0XHRwcmlvcml0eSA9IHByaW9yaXR5IHx8IDA7XG5cdFx0Zm9yKHZhciBpID0gZGVmZXJyZWQubGVuZ3RoOyBpID4gMCAmJiBkZWZlcnJlZFtpIC0gMV1bMl0gPiBwcmlvcml0eTsgaS0tKSBkZWZlcnJlZFtpXSA9IGRlZmVycmVkW2kgLSAxXTtcblx0XHRkZWZlcnJlZFtpXSA9IFtjaHVua0lkcywgZm4sIHByaW9yaXR5XTtcblx0XHRyZXR1cm47XG5cdH1cblx0dmFyIG5vdEZ1bGZpbGxlZCA9IEluZmluaXR5O1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IGRlZmVycmVkLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIFtjaHVua0lkcywgZm4sIHByaW9yaXR5XSA9IGRlZmVycmVkW2ldO1xuXHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgY2h1bmtJZHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdGlmICgocHJpb3JpdHkgJiAxID09PSAwIHx8IG5vdEZ1bGZpbGxlZCA+PSBwcmlvcml0eSkgJiYgT2JqZWN0LmtleXMoX193ZWJwYWNrX3JlcXVpcmVfXy5PKS5ldmVyeSgoa2V5KSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXy5PW2tleV0oY2h1bmtJZHNbal0pKSkpIHtcblx0XHRcdFx0Y2h1bmtJZHMuc3BsaWNlKGotLSwgMSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmdWxmaWxsZWQgPSBmYWxzZTtcblx0XHRcdFx0aWYocHJpb3JpdHkgPCBub3RGdWxmaWxsZWQpIG5vdEZ1bGZpbGxlZCA9IHByaW9yaXR5O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihmdWxmaWxsZWQpIHtcblx0XHRcdGRlZmVycmVkLnNwbGljZShpLS0sIDEpXG5cdFx0XHR2YXIgciA9IGZuKCk7XG5cdFx0XHRpZiAociAhPT0gdW5kZWZpbmVkKSByZXN1bHQgPSByO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufTsiLCJpbXBvcnQgJy4vZ2VuZXJhbCc7XHJcblxyXG5jbGFzcyBHZW5zaGluVG9vbCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnVpQ2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImNhbnZhc1wiKTtcclxuICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLnVpQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgICAgICB0aGlzLm1hcmtlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFya2VyXCIpO1xyXG4gICAgICAgIHRoaXMubWFwSW1nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXBJbWdcIik7XHJcbiAgICAgICAgdGhpcy51aVN1Ym1pdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9ybVN1Ym1pdFwiKTtcclxuICAgICAgICB0aGlzLnVpTmV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmV4dFwiKTtcclxuICAgICAgICB0aGlzLnVpUmVzZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc2V0XCIpO1xyXG4gICAgICAgIHRoaXMudWlTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwic2VsZWN0XCIpO1xyXG4gICAgICAgIHRoaXMudWlTcGlubmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2FkaW5nXCIpO1xyXG4gICAgICAgIHRoaXMudWlEZXNjcmlwdGlvbkJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVzY3JpcHRpb25Cb3hcIik7XHJcbiAgICAgICAgdGhpcy51aVN1Ym1pdE1lc3NhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN1Ym1pdE1lc3NhZ2VcIik7XHJcblxyXG4gICAgICAgIHRoaXMudXJsID0gXCJodHRwczovL2FwaS5nZW5zaGluLmRldlwiO1xyXG4gICAgICAgIHRoaXMudXJsRXh0ZW5zaW9uID0gXCJcIjtcclxuXHJcbiAgICAgICAgdGhpcy5ob2xkRGF0YSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5ob2xkRGF0YUJyYW5jaCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5ob2xkSlNPTiA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMubmV4dEluZGV4ID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy5nZXRDb29yZHMgPSB0aGlzLmdldENvb3Jkcy5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZ2V0Q29vcmRzKCk7XHJcbiAgICAgICAgdGhpcy5nZXREYXRhYmFzZSA9IHRoaXMuZ2V0RGF0YWJhc2UuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmdldERhdGFiYXNlKDAsIFwiXCIpO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9hZGluZ01hcFwiKS5oaWRkZW4gPSB0cnVlO1xyXG4gICAgICAgIHRoaXMudWlDYW52YXMuaGlkZGVuID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5kcmF3Q2FudmFzKHRoaXMubWFwSW1nLCA0NTI0LCA5MTQpO1xyXG4gICAgICAgIHRoaXMudWlOZXh0LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnVpU3VibWl0LmhpZGRlbiA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudWlOZXh0LmhpZGRlbiA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudWlSZXNldC5oaWRkZW4gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmFkZEV2ZW50SGFuZGxlcnMoKTtcclxuICAgIH1cclxuICAgIGFkZEV2ZW50SGFuZGxlcnMoKSB7XHJcbiAgICAgICAgdGhpcy5mb3JtU3VibWl0ID0gdGhpcy5mb3JtU3VibWl0LmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5maW5kTmV4dCA9IHRoaXMuZmluZE5leHQuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLnJlc2V0Rm9ybSA9IHRoaXMucmVzZXRGb3JtLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy51aVN1Ym1pdC5vbmNsaWNrID0gdGhpcy5mb3JtU3VibWl0O1xyXG4gICAgICAgIHRoaXMudWlOZXh0Lm9uY2xpY2sgPSB0aGlzLmZpbmROZXh0O1xyXG4gICAgICAgIHRoaXMudWlSZXNldC5vbmNsaWNrID0gdGhpcy5yZXNldEZvcm07XHJcbiAgICB9XHJcbiAgICBnZXREYXRhYmFzZShpbmRleCwgZXh0ZW5zaW9uKSB7XHJcbiAgICAgICAgdGhpcy51aVN1Ym1pdE1lc3NhZ2UuaW5uZXJIVE1MID0gXCImIzgyMDNcIjtcclxuICAgICAgICB0aGlzLnVpU3Bpbm5lci5jbGFzc0xpc3QucmVtb3ZlKFwiZC1ub25lXCIpO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coaW5kZXgsIGV4dGVuc2lvbik7XHJcbiAgICAgICAgLy9sZXQgZXh0ZW5zaW9uID0gZXh0ZW5zaW9uUGFyYW07XHJcbiAgICAgICAgLy9leHRlbnNpb24gPSBleHRlbnNpb25QYXJhbTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaG9sZERhdGEgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ob2xkRGF0YVtleHRlbnNpb25dICE9IHVuZGVmaW5lZCkgeyAvL0RhdGEgaGVsZCBoYXMgYSBwcm9wZXJ0eSB3aXRoIHRoZSBuYW1lIG9mIHRoZSBleHRlbnNpb24uICBObyBBUEkgY2FsbCBuZWNlc3NhcnkuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ob2xkRGF0YUJyYW5jaCA9IHRoaXMuaG9sZERhdGFbZXh0ZW5zaW9uXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHRoaXMuaG9sZERhdGFbZXh0ZW5zaW9uXSkgIT0gJ29iamVjdCcgJiYgdHlwZW9mKHRoaXMuaG9sZERhdGFbZXh0ZW5zaW9uXSkgIT0gJ3VuZGVmaW5lZCcpIHsgLy9FbmQgb2Ygb2JqZWN0IHRyZWUuICBMb2FkcyB0ZXh0IGluc3RlYWQgb2YgaW5wdXQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZEl0ZW1EZXNjcmlwdGlvbih0aGlzLmhvbGREYXRhW2V4dGVuc2lvbl0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiTWFpbiAxc3QuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkcm9wZG93bk1lbnVzXCIpLmNoaWxkRWxlbWVudENvdW50ID4gKGluZGV4ICogMikpIHsgLy9EZWxldGUgc2VsZWN0IGFuZCBiciBlbGVtZW50cyBncmVhdGVyIHRoYW4gaW5kZXguXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkcm9wZG93bk1lbnVzXCIpLmNoaWxkRWxlbWVudENvdW50IC0gKGluZGV4ICogMik7IGkgPiAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRyb3Bkb3duTWVudXNcIikubGFzdENoaWxkLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51aVNlbGVjdFtpbmRleCAtIDJdICE9IG51bGwpIHsgLy9EaXNhYmxlcyBpbnB1dHMgaW4gb3JkZXIgdG8gbm90IHJlcXVpcmUgbXVsdGlwbGUgQVBJIGNhbGxzIGluIGEgbG9vcC4gIChJIGFscmVhZHkgdHJpZWQuICBDb3VsZG4ndCBmaXggYnVncy4pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVpU2VsZWN0W2luZGV4IC0gMl0uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkRpc2FibGVkIG1haW4uXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzLmhvbGREYXRhID0gdGhpcy5ob2xkRGF0YUJyYW5jaDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVpTmV4dC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZFVpSW5wdXRzKGluZGV4LCB0aGlzLmhvbGREYXRhW2V4dGVuc2lvbl0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVpU3Bpbm5lci5jbGFzc0xpc3QuYWRkKFwiZC1ub25lXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS53YXJuKHRoaXMuaG9sZERhdGEsIHRoaXMuaG9sZERhdGFCcmFuY2gpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5ob2xkRGF0YUJyYW5jaFtleHRlbnNpb25dICE9IHVuZGVmaW5lZCkgeyBcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHRoaXMuaG9sZERhdGFbZXh0ZW5zaW9uXSkgIT0gJ29iamVjdCcgJiYgdHlwZW9mKHRoaXMuaG9sZERhdGFbZXh0ZW5zaW9uXSkgIT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkSXRlbURlc2NyaXB0aW9uKHRoaXMuaG9sZERhdGFbZXh0ZW5zaW9uXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJCcmFuY2ggMXN0LlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mKHRoaXMuaG9sZERhdGFCcmFuY2hbZXh0ZW5zaW9uXSkgIT0gJ29iamVjdCcgJiYgdHlwZW9mKHRoaXMuaG9sZERhdGFCcmFuY2hbZXh0ZW5zaW9uXSkgIT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkSXRlbURlc2NyaXB0aW9uKHRoaXMuaG9sZERhdGFCcmFuY2hbZXh0ZW5zaW9uXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJCcmFuY2ggMm5kLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVpU2VsZWN0W2luZGV4IC0gMl0gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51aVNlbGVjdFtpbmRleCAtIDJdLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJEaXNhYmxlZCBicmFuY2guXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob2xkRGF0YSA9IHRoaXMuaG9sZERhdGFCcmFuY2g7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhvbGREYXRhQnJhbmNoID0gdGhpcy5ob2xkRGF0YUJyYW5jaFtleHRlbnNpb25dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudWlOZXh0LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkVWlJbnB1dHMoaW5kZXgsIHRoaXMuaG9sZERhdGFCcmFuY2gpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVpU3Bpbm5lci5jbGFzc0xpc3QuYWRkKFwiZC1ub25lXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS53YXJuKHRoaXMuaG9sZERhdGEsIHRoaXMuaG9sZERhdGFCcmFuY2gpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4dGVuc2lvbiAhPSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodGhpcy51cmxFeHRlbnNpb24ubWF0Y2goL1xcL1teIFxcL10rL2cpIHx8IFtdKS5sZW5ndGggPj0gaW5kZXgpIHsgIC8vR2V0cyBvbmx5IHRoZSBuZWNlc3NhcnkgbnVtYmVyIG9mIGV4dGVuc2lvbnMgZm9yIHRoZSBBUEkgY2FsbC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJEZWxldGUhXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9ICgodGhpcy51cmxFeHRlbnNpb24ubWF0Y2goL1xcL1teIFxcL10rL2cpIHx8IFtdKS5sZW5ndGgpOyBpID4gaW5kZXggLSAxOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IHRoaXMudXJsRXh0ZW5zaW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAgPSB0ZW1wLnJlcGxhY2UodGhpcy51cmxFeHRlbnNpb24ubWF0Y2goL1xcL1teIFxcL10rL2cpW2kgLSAxXS50b1N0cmluZygpLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVybEV4dGVuc2lvbiA9IHRlbXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cmxFeHRlbnNpb24gKz0gYC8ke2V4dGVuc2lvbn1gO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51aVNlbGVjdFtpbmRleCAtIDJdICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51aVNlbGVjdFtpbmRleCAtIDJdLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYCR7dGhpcy51cmx9JHt0aGlzLnVybEV4dGVuc2lvbn1gKTtcclxuICAgICAgICAgICAgICAgICAgICBmZXRjaChgJHt0aGlzLnVybH0ke3RoaXMudXJsRXh0ZW5zaW9ufWApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5kZXNjcmlwdGlvbiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkSXRlbURlc2NyaXB0aW9uKGRhdGEuZGVzY3JpcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob2xkRGF0YSA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob2xkRGF0YUJyYW5jaCA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51aU5leHQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZFVpSW5wdXRzKGluZGV4LCBkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudWlTcGlubmVyLmNsYXNzTGlzdC5hZGQoXCJkLW5vbmVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiBhbGVydChlcnJvcikpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7IC8vRHVwbGljYXRlIGNvZGUuXHJcbiAgICAgICAgICAgICAgICBpZiAoZXh0ZW5zaW9uICE9IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHRoaXMudXJsRXh0ZW5zaW9uLm1hdGNoKC9cXC9bXiBcXC9dKy9nKSB8fCBbXSkubGVuZ3RoID49IGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJEZWxldGUhXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gKCh0aGlzLnVybEV4dGVuc2lvbi5tYXRjaCgvXFwvW14gXFwvXSsvZykgfHwgW10pLmxlbmd0aCk7IGkgPiBpbmRleCAtIDE7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXAgPSB0aGlzLnVybEV4dGVuc2lvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAgPSB0ZW1wLnJlcGxhY2UodGhpcy51cmxFeHRlbnNpb24ubWF0Y2goL1xcL1teIFxcL10rL2cpW2kgLSAxXS50b1N0cmluZygpLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXJsRXh0ZW5zaW9uID0gdGVtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVybEV4dGVuc2lvbiArPSBgLyR7ZXh0ZW5zaW9ufWA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy51aVNlbGVjdFtpbmRleCAtIDJdICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVpU2VsZWN0W2luZGV4IC0gMl0uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYCR7dGhpcy51cmx9JHt0aGlzLnVybEV4dGVuc2lvbn1gKTtcclxuICAgICAgICAgICAgICAgIGZldGNoKGAke3RoaXMudXJsfSR7dGhpcy51cmxFeHRlbnNpb259YClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmRlc2NyaXB0aW9uICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZEl0ZW1EZXNjcmlwdGlvbihkYXRhLmRlc2NyaXB0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaG9sZERhdGEgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob2xkRGF0YUJyYW5jaCA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVpTmV4dC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRVaUlucHV0cyhpbmRleCwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51aVNwaW5uZXIuY2xhc3NMaXN0LmFkZChcImQtbm9uZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiBhbGVydChlcnJvcikpXHJcbiAgICAgICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldENvb3JkcygpIHtcclxuICAgICAgICBmZXRjaChcIi4vYXNzZXRzL2RhdGEvbWFwQ29vcmRzLmpzb25cIilcclxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxyXG4gICAgICAgICAgICAudGhlbihkYXRhID0+IHtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhvbGRKU09OID0gZGF0YTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4gYWxlcnQoZXJyb3IpKVxyXG4gICAgfVxyXG4gICAgZ2V0SW1hZ2UoZGF0YSkge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJldmlld1wiKS5zcmMgPSBkYXRhO1xyXG4gICAgfVxyXG4gICAgbG9hZEl0ZW1EZXNjcmlwdGlvbihkYXRhKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudWlEZXNjcmlwdGlvbkJveC5maXJzdEVsZW1lbnRDaGlsZCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMudWlEZXNjcmlwdGlvbkJveC5maXJzdEVsZW1lbnRDaGlsZC5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uVGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XHJcbiAgICAgICAgZGVzY3JpcHRpb25UZW1wbGF0ZS5pZCA9IGBkZXNjcmlwdGlvbmA7XHJcbiAgICAgICAgZGVzY3JpcHRpb25UZW1wbGF0ZS5pbm5lckhUTUwgPSBkYXRhO1xyXG5cclxuICAgICAgICB0aGlzLnVpRGVzY3JpcHRpb25Cb3guYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb25UZW1wbGF0ZSk7XHJcbiAgICB9XHJcbiAgICBsb2FkVWlJbnB1dHMoaW5wdXRJbmRleCwgZGF0YSkge1xyXG4gICAgICAgIGlmICh0aGlzLnVpRGVzY3JpcHRpb25Cb3guZmlyc3RFbGVtZW50Q2hpbGQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLnVpRGVzY3JpcHRpb25Cb3guZmlyc3RFbGVtZW50Q2hpbGQucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vY29uc29sZS53YXJuKGlucHV0SW5kZXgsIGRhdGEpO1xyXG4gICAgICAgIGNvbnN0IHRoaXNJbmRleCA9IGlucHV0SW5kZXg7XHJcbiAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZHJvcGRvd25NZW51c1wiKS5jaGlsZEVsZW1lbnRDb3VudCA+ICh0aGlzSW5kZXggKiAyKSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkcm9wZG93bk1lbnVzXCIpLmNoaWxkRWxlbWVudENvdW50IC0gKHRoaXNJbmRleCAqIDIpOyBpID4gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRyb3Bkb3duTWVudXNcIikubGFzdENoaWxkLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBzZWxlY3RUZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xyXG4gICAgICAgIHNlbGVjdFRlbXBsYXRlLmlkID0gYGlucHV0JHt0aGlzSW5kZXh9YDtcclxuICAgICAgICBzZWxlY3RUZW1wbGF0ZS5jbGFzc0xpc3QuYWRkKCdmb3JtLXNlbGVjdCcpO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Ryb3Bkb3duTWVudXNcIikuYXBwZW5kQ2hpbGQoc2VsZWN0VGVtcGxhdGUpO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZHJvcGRvd25NZW51c1wiKS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdicicpKTtcclxuICAgICAgICAvKmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZHJvcGRvd25NZW51c1wiKS5pbm5lckhUTUwgKz1cclxuICAgICAgICBgPHNlbGVjdCBpZD1cImlucHV0JHt0aGlzSW5kZXh9XCIgY2xhc3M9XCJmb3JtLXNlbGVjdFwiPjwvc2VsZWN0PlxyXG4gICAgICAgIDxicj5gOyovXHJcblxyXG4gICAgICAgIGNvbnN0IG9wdGlvbkRlZmF1bHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcclxuICAgICAgICBvcHRpb25EZWZhdWx0LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICBvcHRpb25EZWZhdWx0LmhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgb3B0aW9uRGVmYXVsdC5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgb3B0aW9uRGVmYXVsdC5pbm5lckhUTUwgPSBcIlNlbGVjdCBvbmUuLi5cIjtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGlucHV0JHt0aGlzSW5kZXh9YCkuYXBwZW5kQ2hpbGQob3B0aW9uRGVmYXVsdCk7XHJcbiAgICAgICAgLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChgaW5wdXQke3RoaXNJbmRleH1gKS5pbm5lckhUTUwgKz0gYDxvcHRpb24gdmFsdWU9XCJcIiBkaXNhYmxlZCBoaWRkZW4gc2VsZWN0ZWQ+U2VsZWN0IG9uZS4uLjwvb3B0aW9uPmA7XHJcbiAgICAgICAgaWYgKHRoaXNJbmRleCA9PSAwKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGRhdGFWYWx1ZSBvZiBkYXRhLnR5cGVzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25UZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgb3B0aW9uVGVtcGxhdGUudmFsdWUgPSBkYXRhVmFsdWU7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25UZW1wbGF0ZS5pbm5lckhUTUwgPSBkYXRhVmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGlucHV0JHt0aGlzSW5kZXh9YCkuYXBwZW5kQ2hpbGQob3B0aW9uVGVtcGxhdGUpO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGlucHV0JHt0aGlzSW5kZXh9YCkub25jaGFuZ2UgPSAoKSA9PiB7dGhpcy5nZXREYXRhYmFzZSh0aGlzSW5kZXggKyAxLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgaW5wdXQke3RoaXNJbmRleH1gKS52YWx1ZSk7fTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzSW5kZXggPT0gMSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBkYXRhVmFsdWUgb2YgZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uVGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcclxuICAgICAgICAgICAgICAgIG9wdGlvblRlbXBsYXRlLnZhbHVlID0gZGF0YVZhbHVlO1xyXG4gICAgICAgICAgICAgICAgb3B0aW9uVGVtcGxhdGUuaW5uZXJIVE1MID0gZGF0YVZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBpbnB1dCR7dGhpc0luZGV4fWApLmFwcGVuZENoaWxkKG9wdGlvblRlbXBsYXRlKTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBpbnB1dCR7dGhpc0luZGV4fWApLm9uY2hhbmdlID0gKCkgPT4ge3RoaXMuZ2V0RGF0YWJhc2UodGhpc0luZGV4ICsgMSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGlucHV0JHt0aGlzSW5kZXh9YCkudmFsdWUpO307XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGRhdGFLZXkgaW4gZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uVGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcclxuICAgICAgICAgICAgICAgIG9wdGlvblRlbXBsYXRlLnZhbHVlID0gZGF0YUtleTtcclxuICAgICAgICAgICAgICAgIG9wdGlvblRlbXBsYXRlLmlubmVySFRNTCA9IGRhdGFLZXk7XHJcblxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGlucHV0JHt0aGlzSW5kZXh9YCkuYXBwZW5kQ2hpbGQob3B0aW9uVGVtcGxhdGUpO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGlucHV0JHt0aGlzSW5kZXh9YCkub25jaGFuZ2UgPSAoKSA9PiB7dGhpcy5nZXREYXRhYmFzZSh0aGlzSW5kZXggKyAxLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgaW5wdXQke3RoaXNJbmRleH1gKS52YWx1ZSk7fTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy51aVNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJzZWxlY3RcIik7XHJcbiAgICB9XHJcbiAgICBmb3JtU3VibWl0KGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5uZXh0SW5kZXggPSAwO1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIlN1Y2Nlc3MhXCIpO1xyXG4gICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgaW5wdXQwYCkuc2VsZWN0ZWRJbmRleCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMudWlTdWJtaXRNZXNzYWdlLmlubmVySFRNTCA9IFwiTm8gaXRlbSBzZWxlY3RlZC5cIlxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgaW5wdXQwYCkudmFsdWUgPT0gXCJjaGFyYWN0ZXJzXCIgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGlucHV0MGApLnZhbHVlID09IFwiZW5lbWllc1wiKSB7XHJcbiAgICAgICAgICAgIGxldCBzdWJtaXRNZXNzYWdlID0gYCR7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGlucHV0MGApLnZhbHVlfSBhcmUgbm90IGl0ZW1zLCBhbmQgZG8gbm90IGhhdmUgYSBsb2NhdGlvbiBvbiB0aGlzIG1hcC5gXHJcbiAgICAgICAgICAgIHRoaXMudWlTdWJtaXRNZXNzYWdlLmlubmVySFRNTCA9IHN1Ym1pdE1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgY29vcmRzID0gdGhpcy5zZWFyY2hDb29yZHMoMCk7XHJcbiAgICAgICAgICAgIGlmIChjb29yZHMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51aVN1Ym1pdE1lc3NhZ2UuaW5uZXJIVE1MID0gXCJOb3QgZm91bmQuXCJcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0NhbnZhcyh0aGlzLm1hcEltZywgNDUyNCwgOTE0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0NhbnZhcyh0aGlzLm1hcEltZywgY29vcmRzWzBdLCBjb29yZHNbMV0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvb3Jkc1syXSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3TWFya2VyKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVpU3VibWl0TWVzc2FnZS5pbm5lckhUTUwgPSBcIiYjODIwM1wiO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51aU5leHQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZpbmROZXh0KGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5uZXh0SW5kZXgrKztcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coXCJTdWNjZXNzIVwiKTtcclxuICAgICAgICBsZXQgY29vcmRzID0gdGhpcy5zZWFyY2hDb29yZHModGhpcy5uZXh0SW5kZXgpO1xyXG4gICAgICAgIGlmIChjb29yZHMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLnVpU3VibWl0TWVzc2FnZS5pbm5lckhUTUwgPSBcIk5vdCBmb3VuZC5cIlxyXG4gICAgICAgICAgICB0aGlzLnVpTmV4dC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmRyYXdDYW52YXModGhpcy5tYXBJbWcsIGNvb3Jkc1swXSwgY29vcmRzWzFdKTtcclxuICAgICAgICAgICAgaWYgKGNvb3Jkc1syXSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdNYXJrZXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNlYXJjaENvb3JkcyhpbmRleCkge1xyXG4gICAgICAgIGlmIChpbmRleCA+IDApIHsgLy9GaW5kIG5leHQuXHJcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSBbXTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaG9sZERhdGFCcmFuY2guc291cmNlICE9IHVuZGVmaW5lZCkgeyAvL01hdGNoIGxvY2F0aW9uIGZyb20gQVBJIGRhdGEuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBuYW1lT2YgaW4gdGhpcy5ob2xkSlNPTikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhvbGREYXRhQnJhbmNoLnNvdXJjZSA9PSBuYW1lT2YgfHwgdGhpcy5ob2xkRGF0YUJyYW5jaC5zb3VyY2UgPT0gdGhpcy5ob2xkSlNPTltuYW1lT2ZdLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKHRoaXMuaG9sZEpTT05bbmFtZU9mXS5jb29yZHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmhvbGREYXRhLnNvdXJjZSAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IG5hbWVPZiBpbiB0aGlzLmhvbGRKU09OKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaG9sZERhdGEuc291cmNlID09IG5hbWVPZiB8fCB0aGlzLmhvbGREYXRhLnNvdXJjZSA9PSB0aGlzLmhvbGRKU09OW25hbWVPZl0ubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2godGhpcy5ob2xkSlNPTltuYW1lT2ZdLmNvb3Jkcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuaG9sZERhdGFCcmFuY2guc291cmNlcyAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IG5hbWVPZiBpbiB0aGlzLmhvbGRKU09OKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaG9sZERhdGFCcmFuY2guc291cmNlc1tpbmRleF0gPT0gbmFtZU9mIHx8IHRoaXMuaG9sZERhdGFCcmFuY2guc291cmNlc1tpbmRleF0gPT0gdGhpcy5ob2xkSlNPTltuYW1lT2ZdLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKHRoaXMuaG9sZEpTT05bbmFtZU9mXS5jb29yZHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmhvbGREYXRhLnNvdXJjZXMgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBuYW1lT2YgaW4gdGhpcy5ob2xkSlNPTikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhvbGREYXRhLnNvdXJjZXNbaW5kZXhdID09IG5hbWVPZiB8fCB0aGlzLmhvbGREYXRhLnNvdXJjZXNbaW5kZXhdID09IHRoaXMuaG9sZEpTT05bbmFtZU9mXS5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXMucHVzaCh0aGlzLmhvbGRKU09OW25hbWVPZl0uY29vcmRzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSAqIDIgPCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRyb3Bkb3duTWVudXNcIikuY2hpbGRFbGVtZW50Q291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IG5hbWVPZiBpbiB0aGlzLmhvbGRKU09OKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgaW5wdXQke2l9YCkudmFsdWUgPT0gbmFtZU9mKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2godGhpcy5ob2xkSlNPTltuYW1lT2ZdLmNvb3Jkcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gdGhpcy5ob2xkSlNPTltuYW1lT2ZdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQga2V5VmFsdWUgb2YgdGhpcy5ob2xkSlNPTltuYW1lT2ZdW2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBpbnB1dCR7aX1gKS52YWx1ZSA9PSBrZXlWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKHRoaXMuaG9sZEpTT05bbmFtZU9mXS5jb29yZHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2cobWF0Y2hlc1tpbmRleF0pO1xyXG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hlc1tpbmRleF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5ob2xkRGF0YUJyYW5jaC5zb3VyY2UgIT0gdW5kZWZpbmVkKSB7IC8vTWF0Y2ggbG9jYXRpb24gZnJvbSBBUEkgZGF0YS5cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IG5hbWVPZiBpbiB0aGlzLmhvbGRKU09OKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaG9sZERhdGFCcmFuY2guc291cmNlID09IG5hbWVPZiB8fCB0aGlzLmhvbGREYXRhQnJhbmNoLnNvdXJjZSA9PSB0aGlzLmhvbGRKU09OW25hbWVPZl0ubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ob2xkSlNPTltuYW1lT2ZdLmNvb3JkcztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5ob2xkRGF0YS5zb3VyY2UgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBuYW1lT2YgaW4gdGhpcy5ob2xkSlNPTikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhvbGREYXRhLnNvdXJjZSA9PSBuYW1lT2YgfHwgdGhpcy5ob2xkRGF0YS5zb3VyY2UgPT0gdGhpcy5ob2xkSlNPTltuYW1lT2ZdLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaG9sZEpTT05bbmFtZU9mXS5jb29yZHM7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuaG9sZERhdGFCcmFuY2guc291cmNlcyAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IG5hbWVPZiBpbiB0aGlzLmhvbGRKU09OKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaG9sZERhdGFCcmFuY2guc291cmNlc1swXSA9PSBuYW1lT2YgfHwgdGhpcy5ob2xkRGF0YUJyYW5jaC5zb3VyY2VzWzBdID09IHRoaXMuaG9sZEpTT05bbmFtZU9mXS5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmhvbGRKU09OW25hbWVPZl0uY29vcmRzO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmhvbGREYXRhLnNvdXJjZXMgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBuYW1lT2YgaW4gdGhpcy5ob2xkSlNPTikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhvbGREYXRhLnNvdXJjZXNbMF0gPT0gbmFtZU9mIHx8IHRoaXMuaG9sZERhdGEuc291cmNlc1swXSA9PSB0aGlzLmhvbGRKU09OW25hbWVPZl0ubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ob2xkSlNPTltuYW1lT2ZdLmNvb3JkcztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSAqIDIgPCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRyb3Bkb3duTWVudXNcIikuY2hpbGRFbGVtZW50Q291bnQ7IGkrKykgeyAvL1NlYXJjaCBlYWNoIGlucHV0IHZhbHVlIHN0YXJ0aW5nIGF0IHNlY29uZCBpbnB1dC5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBuYW1lT2YgaW4gdGhpcy5ob2xkSlNPTikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGlucHV0JHtpfWApLnZhbHVlID09IG5hbWVPZikgeyAvL01hdGNoIGxvY2F0aW9uIGRpcmVjdGx5LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaG9sZEpTT05bbmFtZU9mXS5jb29yZHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7IC8vTWF0Y2ggaXRlbSBhdCBsb2NhdGlvbi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiB0aGlzLmhvbGRKU09OW25hbWVPZl0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrZXlWYWx1ZSBvZiB0aGlzLmhvbGRKU09OW25hbWVPZl1ba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGlucHV0JHtpfWApLnZhbHVlID09IGtleVZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ob2xkSlNPTltuYW1lT2ZdLmNvb3JkcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIGRyYXdDYW52YXMoaW1nLCB4LCB5KSB7XHJcbiAgICAgICAgLy90aGlzLmNvbnRleHQuc2NhbGUoc2NhbGUsIHNjYWxlKTtcclxuICAgICAgICAvL3RoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5tYXJrZXIsICgodGhpcy51aUNhbnZhcy53aWR0aCAtIHRoaXMubWFya2VyLndpZHRoKSAvIDIpLCAwKTtcclxuICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKGltZywgLXggKyAyNTAsIC15ICsgMjUwKTtcclxuICAgIH1cclxuICAgIGRyYXdNYXJrZXIoKSB7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLm1hcmtlciwgMjUwIC0gMjUsIDI1MCAtIDEwMCk7XHJcbiAgICB9XHJcbiAgICByZXNldEZvcm0oZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIC8qaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZHJvcGRvd25NZW51c1wiKS5jaGlsZEVsZW1lbnRDb3VudCA+ICgyKSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkcm9wZG93bk1lbnVzXCIpLmNoaWxkRWxlbWVudENvdW50IC0gKDIpOyBpID4gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRyb3Bkb3duTWVudXNcIikubGFzdENoaWxkLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSovXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkcm9wZG93bk1lbnVzXCIpLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgdGhpcy51cmxFeHRlbnNpb24gPSBcIlwiO1xyXG4gICAgICAgIHRoaXMubmV4dEluZGV4ID0gMDtcclxuICAgICAgICB0aGlzLnVpTmV4dC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChgaW5wdXQwYCkuc2VsZWN0ZWRJbmRleCA9IDA7XHJcbiAgICAgICAgdGhpcy5nZXREYXRhYmFzZSgwLCBcIlwiKTtcclxuICAgICAgICB0aGlzLmRyYXdDYW52YXModGhpcy5tYXBJbWcsIDQ1MjQsIDkxNCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmxldCBtYWluO1xyXG53aW5kb3cub25sb2FkID0gKCkgPT4ge21haW4gPSBuZXcgR2Vuc2hpblRvb2woKTt9OyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIi8vIG5vIGJhc2VVUklcblxuLy8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3Ncbi8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuLy8gW3Jlc29sdmUsIHJlamVjdCwgUHJvbWlzZV0gPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG52YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuXHQ4MjY6IDBcbn07XG5cbi8vIG5vIGNodW5rIG9uIGRlbWFuZCBsb2FkaW5nXG5cbi8vIG5vIHByZWZldGNoaW5nXG5cbi8vIG5vIHByZWxvYWRlZFxuXG4vLyBubyBITVJcblxuLy8gbm8gSE1SIG1hbmlmZXN0XG5cbl9fd2VicGFja19yZXF1aXJlX18uTy5qID0gKGNodW5rSWQpID0+IChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPT09IDApO1xuXG4vLyBpbnN0YWxsIGEgSlNPTlAgY2FsbGJhY2sgZm9yIGNodW5rIGxvYWRpbmdcbnZhciB3ZWJwYWNrSnNvbnBDYWxsYmFjayA9IChwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbiwgZGF0YSkgPT4ge1xuXHR2YXIgW2NodW5rSWRzLCBtb3JlTW9kdWxlcywgcnVudGltZV0gPSBkYXRhO1xuXHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcblx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG5cdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDA7XG5cdGlmKGNodW5rSWRzLnNvbWUoKGlkKSA9PiAoaW5zdGFsbGVkQ2h1bmtzW2lkXSAhPT0gMCkpKSB7XG5cdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG5cdFx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8obW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuXHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLm1bbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihydW50aW1lKSB2YXIgcmVzdWx0ID0gcnVudGltZShfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblx0fVxuXHRpZihwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbikgcGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24oZGF0YSk7XG5cdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpICYmIGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuXHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdWzBdKCk7XG5cdFx0fVxuXHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG5cdH1cblx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uTyhyZXN1bHQpO1xufVxuXG52YXIgY2h1bmtMb2FkaW5nR2xvYmFsID0gc2VsZltcIndlYnBhY2tDaHVua2l0ZW1fZmluZGVyXCJdID0gc2VsZltcIndlYnBhY2tDaHVua2l0ZW1fZmluZGVyXCJdIHx8IFtdO1xuY2h1bmtMb2FkaW5nR2xvYmFsLmZvckVhY2god2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCAwKSk7XG5jaHVua0xvYWRpbmdHbG9iYWwucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrLmJpbmQobnVsbCwgY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2guYmluZChjaHVua0xvYWRpbmdHbG9iYWwpKTsiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGRlcGVuZHMgb24gb3RoZXIgbG9hZGVkIGNodW5rcyBhbmQgZXhlY3V0aW9uIG5lZWQgdG8gYmUgZGVsYXllZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fLk8odW5kZWZpbmVkLCBbOTk0XSwgKCkgPT4gKF9fd2VicGFja19yZXF1aXJlX18oODg2KSkpXG5fX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKF9fd2VicGFja19leHBvcnRzX18pO1xuIl0sIm5hbWVzIjpbImRlZmVycmVkIiwiR2Vuc2hpblRvb2wiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwidWlDYW52YXMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsIm1hcmtlciIsImdldEVsZW1lbnRCeUlkIiwibWFwSW1nIiwidWlTdWJtaXQiLCJ1aU5leHQiLCJ1aVJlc2V0IiwidWlTZWxlY3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwidWlTcGlubmVyIiwidWlEZXNjcmlwdGlvbkJveCIsInVpU3VibWl0TWVzc2FnZSIsInVybCIsInVybEV4dGVuc2lvbiIsImhvbGREYXRhIiwiaG9sZERhdGFCcmFuY2giLCJob2xkSlNPTiIsIm5leHRJbmRleCIsImdldENvb3JkcyIsImJpbmQiLCJnZXREYXRhYmFzZSIsImhpZGRlbiIsImRyYXdDYW52YXMiLCJkaXNhYmxlZCIsImFkZEV2ZW50SGFuZGxlcnMiLCJrZXkiLCJ2YWx1ZSIsImZvcm1TdWJtaXQiLCJmaW5kTmV4dCIsInJlc2V0Rm9ybSIsIm9uY2xpY2siLCJpbmRleCIsImV4dGVuc2lvbiIsIl90aGlzIiwiaW5uZXJIVE1MIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwidW5kZWZpbmVkIiwiX3R5cGVvZiIsImxvYWRJdGVtRGVzY3JpcHRpb24iLCJjaGlsZEVsZW1lbnRDb3VudCIsImkiLCJsYXN0Q2hpbGQiLCJsb2FkVWlJbnB1dHMiLCJhZGQiLCJtYXRjaCIsImxlbmd0aCIsInRlbXAiLCJyZXBsYWNlIiwidG9TdHJpbmciLCJjb25jYXQiLCJjb25zb2xlIiwibG9nIiwiZmV0Y2giLCJ0aGVuIiwicmVzcG9uc2UiLCJqc29uIiwiZGF0YSIsImRlc2NyaXB0aW9uIiwiZXJyb3IiLCJhbGVydCIsIl90aGlzMiIsInNyYyIsImZpcnN0RWxlbWVudENoaWxkIiwiZGVzY3JpcHRpb25UZW1wbGF0ZSIsImNyZWF0ZUVsZW1lbnQiLCJpZCIsImFwcGVuZENoaWxkIiwiaW5wdXRJbmRleCIsIl90aGlzMyIsInRoaXNJbmRleCIsInNlbGVjdFRlbXBsYXRlIiwib3B0aW9uRGVmYXVsdCIsInNlbGVjdGVkIiwiX3N0ZXAiLCJfaXRlcmF0b3IiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciIsInR5cGVzIiwicyIsIm4iLCJkb25lIiwiZGF0YVZhbHVlIiwib3B0aW9uVGVtcGxhdGUiLCJvbmNoYW5nZSIsImVyciIsImUiLCJmIiwiX3N0ZXAyIiwiX2l0ZXJhdG9yMiIsImRhdGFLZXkiLCJldmVudCIsInByZXZlbnREZWZhdWx0Iiwic2VsZWN0ZWRJbmRleCIsInN1Ym1pdE1lc3NhZ2UiLCJjb29yZHMiLCJzZWFyY2hDb29yZHMiLCJkcmF3TWFya2VyIiwibWF0Y2hlcyIsInNvdXJjZSIsIm5hbWVPZiIsIm5hbWUiLCJwdXNoIiwic291cmNlcyIsIl9zdGVwMyIsIl9pdGVyYXRvcjMiLCJrZXlWYWx1ZSIsIl9zdGVwNCIsIl9pdGVyYXRvcjQiLCJpbWciLCJ4IiwieSIsImRyYXdJbWFnZSIsIndpbmRvdyIsIm9ubG9hZCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibSIsIk8iLCJyZXN1bHQiLCJjaHVua0lkcyIsImZuIiwicHJpb3JpdHkiLCJub3RGdWxmaWxsZWQiLCJJbmZpbml0eSIsImZ1bGZpbGxlZCIsImoiLCJPYmplY3QiLCJrZXlzIiwiZXZlcnkiLCJzcGxpY2UiLCJyIiwiZCIsImRlZmluaXRpb24iLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwiaW5zdGFsbGVkQ2h1bmtzIiwiY2h1bmtJZCIsIndlYnBhY2tKc29ucENhbGxiYWNrIiwicGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24iLCJtb3JlTW9kdWxlcyIsInJ1bnRpbWUiLCJzb21lIiwiY2h1bmtMb2FkaW5nR2xvYmFsIiwic2VsZiIsImZvckVhY2giLCJfX3dlYnBhY2tfZXhwb3J0c19fIl0sInNvdXJjZVJvb3QiOiIifQ==